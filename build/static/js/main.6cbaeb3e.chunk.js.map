{"version":3,"sources":["d3/config.js","d3/createNodes.js","d3/simulation.js","d3/bubbleHandlers.js","d3/render.js","d3/chart.js","components/Chart.js","components/Button.js","components/View0.js","components/View1.js","components/View2.js","components/Modal.js","components/Buttons.js","components/sideText.js","components/SideBox.js","components/LandscapeMessage.js","helpers/helpers.js","App.js","dataBuilder.js","serviceWorker.js","index.js"],"names":["donationColors","screenHeight","window","innerHeight","screenWidth","innerWidth","chartWidth","Math","min","chartHeight","tierColumnWidth","max","topPad","bottomPad","chartCenter","x","y","candidates","Bernie Sanders","Hillary Clinton","Martin O'Malley","tierLevels","Amounts","text","twoThouToLimitAmount","cluster","oneThouTo2000Amount","fiveHundredTo1000Amount","twoHundredTo500Amount","fiftyTo200Amount","zeroTo50Amount","Totals","tierScale","scaleLinear","domain","range","Object","keys","forEach","k","i","forceStrength","charge","d","pow","radius","scaleMatrix","s","centerX","centerY","concat","wait","delay","Promise","res","setTimeout","createNodes","rawData","key","name","radiusScale","scaleSqrt","chart","maxAmount","myNodes","map","a","random","PI","r","sqrt","id","size","tier","cos","sin","sort","b","frame","bubbles","attr","initSimulation","sim","forceSimulation","force","forceX","strength","forceManyBody","on","stop","groupBubbles","alpha","decay","svg","selectAll","remove","simulation","velocityDecay","forceY","restart","_callee","_args","arguments","regenerator_default","wrap","_context","prev","next","length","undefined","showTierLabels","allBubblesGroup","transition","duration","simulations","tierLabels","data","enter","append","each","select","this","style","toggleDonationGroups","activeDonationBtn","_splitBubbles","apply","splitBubbles","render","init","domNode","fillColor","scaleOrdinal","reverse","objectSpread","console","log","initSimulations","nodes","currentView","animDelay","_this","bubblesE","rgb","darker","merge","classed","names","match","showCandidates","_loop","nodeGroup","filter","node","ChartContainer","styled","div","_templateObject","Chart","props","chartData","react_default","createElement","Component","button","Button_templateObject","_ref","small","_ref2","View0","Wrap","View1_templateObject","Quote","blockquote","_templateObject2","Cite","cite","_templateObject3","ImgBlock","View2_templateObject","Views","Fragment","src","transitionStyles","entering","opacity","entered","FullWrap","Modal_templateObject","InnerWrap","Modal_templateObject2","WithBtnWrap","Modal_templateObject3","ContentWrap","_templateObject4","display","Btn","Button","_templateObject5","Modal","state","show","_this$props","inProp","in","continueHandler","Transition_default","timeout","unmountOnExit","Fade_default","left","opposite","when","collapse","num","CurrentView","nextView","onClick","position","bottom","right","React","Wrapper","Buttons_templateObject","height","Buttons","footerHeight","donationButtonHandler","className","sideText","2","3","4","Container","SideBox_templateObject","MainTitle","SideBox_templateObject2","SideBox","_ref3","sideBoxShowing","dangerouslySetInnerHTML","__html","LandscapeMessage_templateObject","LandscapeMessage","LandscapeMessage_Wrap","debounce","func","immediate","context","args","callNow","clearTimeout","initState","document","documentElement","clientHeight","clientWidth","modalShowing","landscape","chartLoaded","App","checkOrientation","setState","e","target","newView","scrollTo","addEventListener","prevProps","prevState","location","reload","_this$state2","Chart_Chart","components_Modal","Boolean","hostname","root","getElementById","ReactDOM","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.6cbaeb3e.chunk.js","sourcesContent":["import { scaleLinear } from \"d3-scale\";\r\nimport chart from \"./chart\";\r\nimport { max } from \"d3-array\";\r\n\r\nexport const donationColors = [\r\n  \"#D2F4B7\",\r\n  \"#C4E7A8\",\r\n  \"#B5D999\",\r\n  \"#98BF7B\",\r\n  \"#7BA45D\",\r\n  \"#507C30\"\r\n];\r\n\r\nexport const screenHeight = window.innerHeight;\r\nexport const screenWidth = window.innerWidth;\r\nexport const chartWidth = Math.min(screenWidth * 0.62, 1400);\r\nexport const chartHeight = screenHeight * 0.92;\r\nexport const tierColumnWidth = Math.max(chartWidth * 0.18, 110);\r\nexport const topPad = chartHeight * 0.04;\r\nexport const bottomPad = chartHeight * 0.03;\r\n\r\n// Locations to move bubbles towards, depending\r\n// on which view mode is selected.\r\nexport const center = { x: screenWidth / 2, y: screenHeight / 2 };\r\nexport const chartCenter = {\r\n  x: (chartWidth - tierColumnWidth) / 2 + tierColumnWidth,\r\n  y: chartHeight / 2\r\n};\r\n\r\nexport const candidates = {\r\n  \"Bernie Sanders\": { x: chartCenter.x - (chartWidth - tierColumnWidth) / 3 },\r\n  \"Hillary Clinton\": { x: chartCenter.x },\r\n  \"Martin O'Malley\": { x: chartCenter.x + (chartWidth - tierColumnWidth) / 3 }\r\n};\r\n\r\nexport const tierLevels = {\r\n  Amounts: {\r\n    text: \"Donation Ranges\"\r\n  },\r\n  twoThouToLimitAmount: {\r\n    text: \"$2k - $2,700 (limit)\",\r\n    cluster: {}\r\n  },\r\n  oneThouTo2000Amount: {\r\n    text: \"$1k - $1999.99\",\r\n    cluster: {}\r\n  },\r\n  fiveHundredTo1000Amount: {\r\n    text: \"$500 - 999.99\",\r\n    cluster: {}\r\n  },\r\n  twoHundredTo500Amount: {\r\n    text: \"$200 - 499.99\",\r\n    cluster: {}\r\n  },\r\n  fiftyTo200Amount: {\r\n    text: \"$50 - 199.99\",\r\n    cluster: {}\r\n  },\r\n  zeroTo50Amount: {\r\n    text: \"$0 - 49.99\",\r\n    cluster: {}\r\n  },\r\n  Totals: {\r\n    text: \"TOTALS:\"\r\n  }\r\n};\r\n\r\nexport const tierScale = scaleLinear()\r\n  .domain([0, 7])\r\n  .range([topPad, chartHeight - bottomPad]);\r\n\r\nexport const tierLevelKeys = Object.keys(tierLevels);\r\ntierLevelKeys.forEach((k, i) => {\r\n  tierLevels[k].y = tierScale(i);\r\n});\r\n\r\n// @v4 strength to apply to the position forces\r\nexport const forceStrength = 0.07;\r\n\r\nexport function charge(d) {\r\n  return -Math.pow(d.radius, 1.9) * forceStrength;\r\n}\r\n\r\nexport function maxAmount(data) {\r\n  return max(data, function(d) {\r\n    return +d.size;\r\n  });\r\n}\r\n\r\nexport function scaleMatrix(s) {\r\n  let centerX = chartWidth / 2;\r\n  let centerY = chartHeight / 2;\r\n\r\n  return `matrix(${s}, 0, 0, ${s}, ${centerX - s * centerX}, ${centerY -\r\n    s * centerY})`;\r\n}\r\n\r\nexport function wait(delay) {\r\n  return new Promise(res => {\r\n    setTimeout(() => {\r\n      res();\r\n    }, delay);\r\n  });\r\n}\r\n","import { scaleSqrt } from \"d3-scale\";\r\nimport chart from \"./chart\";\r\nimport { tierLevels, chartWidth, chartHeight, candidates } from \"./config\";\r\n\r\nfunction createNodes(rawData) {\r\n  const centerX = chartWidth / 2;\r\n  const centerY = chartHeight / 2;\r\n\r\n  // attaches x & y value for each cluster\r\n  for (let key in tierLevels) {\r\n    if (tierLevels[key].cluster) {\r\n      for (let name in candidates) {\r\n        tierLevels[key].cluster[name] = [candidates[name].x, tierLevels[key].y];\r\n      }\r\n    }\r\n  }\r\n\r\n  const radiusScale = scaleSqrt()\r\n    .domain([0, chart.maxAmount])\r\n    .range([0, chartHeight * 0.018]);\r\n\r\n  const myNodes = rawData.map(function(d, i) {\r\n    let a = Math.random() * 2 * Math.PI;\r\n    let r = Math.sqrt(~~(Math.random() * chartHeight ** 2));\r\n    return {\r\n      id: d.id,\r\n      radius: radiusScale(+d.size),\r\n      size: +d.size,\r\n      name: d.name,\r\n      text: tierLevels[d.tier].text,\r\n      tier: d.tier,\r\n      x: centerX + r * Math.cos(a),\r\n      y: centerY + r * Math.sin(a)\r\n    };\r\n  });\r\n\r\n  // sort them to prevent occlusion of smaller nodes.\r\n  myNodes.sort(function(a, b) {\r\n    return b.radius - a.radius;\r\n  });\r\n\r\n  return myNodes;\r\n}\r\n\r\nexport default createNodes;\r\n","import { forceSimulation, forceX, forceManyBody } from \"d3-force\";\r\nimport chart from \"./chart\";\r\nimport { forceStrength, charge, chartWidth, tierLevels } from \"./config\";\r\n\r\n// generates force simulator based on x & y position\r\n\r\nfunction initSimulation() {\r\n  const sim = forceSimulation()\r\n    .force(\r\n      \"x\",\r\n      forceX()\r\n        .strength(forceStrength)\r\n        .x(chartWidth / 2)\r\n    )\r\n    .force(\"charge\", forceManyBody().strength(charge))\r\n    .on(\"tick\", frame);\r\n\r\n  // @v4 Force starts up automatically,\r\n  //  which we don't want as there aren't any nodes yet.\r\n  sim.stop();\r\n  return sim;\r\n}\r\n\r\nexport function initSimulations() {\r\n  const simulations = { ...tierLevels };\r\n\r\n  // these are just the x values & text for the legend\r\n  delete simulations.Amounts;\r\n  delete simulations.Totals;\r\n\r\n  console.log(simulations);\r\n  for (let key in simulations) {\r\n    const sim = forceSimulation()\r\n      .force(\r\n        \"x\",\r\n        forceX()\r\n          .strength(forceStrength)\r\n          .x(chartWidth / 2)\r\n      )\r\n      .force(\"charge\", forceManyBody().strength(charge))\r\n      .on(\"tick\", frame);\r\n\r\n    // @v4 Force starts up automatically,\r\n    //  which we don't want as there aren't any nodes yet.\r\n    sim.stop();\r\n    simulations[key] = sim;\r\n  }\r\n  return simulations;\r\n}\r\n\r\nfunction frame() {\r\n  chart.bubbles\r\n    .attr(\"cx\", function(d) {\r\n      return d.x;\r\n    })\r\n    .attr(\"cy\", function(d) {\r\n      return d.y;\r\n    });\r\n}\r\n\r\nexport default initSimulation;\r\n","import { forceX, forceY } from \"d3-force\";\r\nimport chart from \"./chart\";\r\nimport { select } from \"d3-selection\";\r\nimport {\r\n  forceStrength,\r\n  tierLevels,\r\n  scaleMatrix,\r\n  candidates,\r\n  chartHeight,\r\n  tierColumnWidth,\r\n  wait\r\n} from \"./config\";\r\n\r\nexport function groupBubbles(alpha, decay) {\r\n  const centerY = chartHeight / 2;\r\n\r\n  hideTierLabels();\r\n\r\n  // for (let key in chart.simulations) {\r\n  //   chart.simulations[key].velocityDecay(decay).force(\r\n  //     \"y\",\r\n  //     forceY()\r\n  //       .strength(forceStrength)\r\n  //       .y(centerY)\r\n  //   );\r\n  //   chart.simulations[key].alpha(alpha).restart();\r\n  // }\r\n\r\n  chart.simulation.velocityDecay(decay).force(\r\n    \"y\",\r\n    forceY()\r\n      .strength(forceStrength)\r\n      .y(centerY)\r\n  );\r\n\r\n  chart.simulation.alpha(alpha).restart();\r\n}\r\n\r\nexport async function splitBubbles(delay = 0) {\r\n  await wait(delay);\r\n  showTierLabels();\r\n  chart.allBubblesGroup\r\n    .transition()\r\n    .duration(200)\r\n    .attr(\"transform\", scaleMatrix(1));\r\n\r\n  for (let key in chart.simulations) {\r\n    chart.simulations[key]\r\n      .velocityDecay(0.2)\r\n      .force(\r\n        \"y\",\r\n        forceY()\r\n          .strength(forceStrength)\r\n          .y(d => {\r\n            return tierLevels[d.tier].y;\r\n          })\r\n      )\r\n      .force(\r\n        \"x\",\r\n        forceX()\r\n          .strength(forceStrength)\r\n          .x(d => {\r\n            return candidates[d.name].x;\r\n          })\r\n      );\r\n\r\n    // @v4 We can reset the alpha value and restart the simulation\r\n    chart.simulations[key].alpha(1).restart();\r\n  }\r\n\r\n  // chart.simulation\r\n  //   .velocityDecay(0.2)\r\n  //   .force(\r\n  //     \"y\",\r\n  //     forceY()\r\n  //       .strength(forceStrength)\r\n  //       .y(d => {\r\n  //         return tierLevels[d.tier].y;\r\n  //       })\r\n  //   )\r\n  //   .force(\r\n  //     \"x\",\r\n  //     forceX()\r\n  //       .strength(forceStrength)\r\n  //       .x(d => {\r\n  //         return candidates[d.name].x;\r\n  //       })\r\n  //   );\r\n\r\n  // // @v4 We can reset the alpha value and restart the simulation\r\n  // chart.simulation.alpha(1).restart();\r\n}\r\n\r\nexport function hideTierLabels() {\r\n  chart.svg.selectAll(\".tier-label\").remove();\r\n}\r\n\r\nexport function showTierLabels() {\r\n  let tierLabels = Object.keys(tierLevels);\r\n\r\n  const tierTitle = chart.svg.selectAll(\".tier-label\").data(tierLabels);\r\n\r\n  tierTitle\r\n    .enter()\r\n    .append(\"text\")\r\n    .attr(\"class\", \"tier-label\")\r\n    .attr(\"y\", key => tierLevels[key].y)\r\n    .attr(\"x\", tierColumnWidth)\r\n    .attr(\"text-anchor\", \"end\")\r\n    .text(d => tierLevels[d].text)\r\n    .each(function(d) {\r\n      if (d === \"Amounts\") {\r\n        select(this)\r\n          .style(\"text-decoration\", \"underline\")\r\n          .style(\"font-weight\", \"bold\");\r\n      }\r\n    });\r\n}\r\n\r\nexport function toggleDonationGroups(activeDonationBtn, delay) {\r\n  if (activeDonationBtn === \"donation_tiers\") {\r\n    splitBubbles(delay);\r\n  } else {\r\n    groupBubbles(1, 0.12);\r\n  }\r\n}\r\n","import { rgb } from \"d3-color\";\r\n// import { selection, select as d3Select } from 'd3-selection';\r\nimport \"d3-transition\";\r\nimport {\r\n  candidates,\r\n  screenWidth,\r\n  screenHeight,\r\n  chartWidth,\r\n  chartHeight\r\n} from \"./config\";\r\nimport { groupBubbles, toggleDonationGroups } from \"./bubbleHandlers\";\r\nimport chart from \"./chart\";\r\n\r\nfunction render(currentView, activeDonationBtn, animDelay) {\r\n  this.svg.attr(\"width\", chartWidth).attr(\"height\", chartHeight);\r\n\r\n  this.bubbles = this.allBubblesGroup\r\n    .selectAll(\"circle\")\r\n    .data(this.nodes, function(d) {\r\n      return d.id;\r\n    });\r\n\r\n  const bubblesE = this.bubbles\r\n    .enter()\r\n    .append(\"circle\")\r\n    .attr(\"r\", 0)\r\n    .attr(\"fill\", function(d) {\r\n      return chart.fillColor(+d.size);\r\n    })\r\n    .attr(\"stroke\", function(d) {\r\n      return rgb(chart.fillColor(+d.size)).darker([3]);\r\n    })\r\n    .attr(\"stroke-width\", 0.5);\r\n\r\n  this.bubbles = this.bubbles.merge(bubblesE);\r\n\r\n  this.bubbles\r\n    .transition()\r\n    .duration(1200)\r\n    .attr(\"r\", function(d) {\r\n      return d.radius;\r\n    });\r\n\r\n  switch (currentView) {\r\n    case 0:\r\n      this.simulation.nodes(this.nodes);\r\n      groupBubbles(1, 0.4);\r\n      break;\r\n    case 1:\r\n      this.svg.classed(\"downscale\", true);\r\n      // this.svg.style(\"transition\", \"transform 500ms ease-in-out\");\r\n\r\n      break;\r\n    case 2:\r\n      this.svg.classed(\"left-side\", true);\r\n      showCandidates();\r\n\r\n      for (let key in this.simulations) {\r\n        const nodeGroup = this.nodes.filter(node => {\r\n          return key === node.tier;\r\n        });\r\n        this.simulations[key].nodes(nodeGroup);\r\n      }\r\n\r\n      toggleDonationGroups(activeDonationBtn, animDelay);\r\n      break;\r\n    default:\r\n  }\r\n}\r\n\r\nfunction showCandidates() {\r\n  // Add the candidate names\r\n  let names = Object.keys(candidates);\r\n\r\n  const candidateTitle = chart.svg.selectAll(\".candidate\").data(names);\r\n\r\n  candidateTitle\r\n    .enter()\r\n    .append(\"text\")\r\n    .attr(\"class\", \"candidate\")\r\n    .attr(\"x\", function(d) {\r\n      return candidates[d].x;\r\n    })\r\n    .attr(\"y\", chartHeight * 0.04)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .text(function(d) {\r\n      if (screenWidth < 700) {\r\n        return d.match(/[^ ]* (.*)/)[1];\r\n      } else return d;\r\n    });\r\n}\r\n\r\nexport default render;\r\n","/*\r\n * Code adapted from:\r\n * http://vallandingham.me/gates_bubbles/\r\n *\r\n */\r\nimport { select } from \"d3-selection\";\r\nimport { scaleOrdinal } from \"d3-scale\";\r\nimport createNodes from \"./createNodes\";\r\nimport initSimulation, { initSimulations } from \"./simulation\";\r\nimport { maxAmount, donationColors } from \"./config\";\r\nimport render from \"./render\";\r\n\r\nconst chart = {\r\n  init: function(domNode, rawData) {\r\n    this.maxAmount = maxAmount(rawData);\r\n\r\n    this.fillColor = scaleOrdinal()\r\n      .domain([2700, 2000, 1000, 500, 200, 50])\r\n      .range(donationColors.reverse());\r\n\r\n    //working - DON'T REMOVE UNTIL NEW ONE IS WORKING!\r\n    this.simulation = initSimulation();\r\n\r\n    //new\r\n    this.simulations = initSimulations();\r\n\r\n    this.svg = select(domNode).append(\"svg\");\r\n\r\n    this.nodes = createNodes(rawData);\r\n\r\n    this.allBubblesGroup = this.svg.append(\"g\");\r\n    // .attr(\"transform\", scaleMatrix(2));\r\n\r\n    this.bubbles = null;\r\n  },\r\n  render\r\n};\r\n\r\nexport default chart;\r\n","import React, { Component } from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport chart from \"../d3/chart\";\r\n\r\nconst ChartContainer = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  display: flex;\r\n  /* justify-content: center; */\r\n  align-items: center;\r\n  margin: 0 auto;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  z-index: -1;\r\n`;\r\n\r\nexport default class Chart extends Component {\r\n  componentDidMount() {\r\n    chart.init(\"#vis\", this.props.chartData);\r\n  }\r\n\r\n  shouldComponentUpdate() {\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    return <ChartContainer id=\"vis\" />;\r\n  }\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.button`\r\n  display: block;\r\n  position: relative;\r\n  border: 1px solid #555;\r\n  z-index: 5;\r\n  font-size: ${({ small }) => (small ? \"1rem\" : \"1.3rem\")};\r\n  height: ${({ small }) => (small ? \"2rem\" : \"3rem\")};\r\n  background: #fff;\r\n  font-family: inherit;\r\n  border-radius: 3px;\r\n  cursor: pointer;\r\n`;\r\n","import React from \"react\";\r\n\r\nexport default () => (\r\n  <div>\r\n    <h1>liberal radicalism</h1>\r\n    <p>\r\n      Liberal Radicalism (a.k.a. Quadratic Finance) is a mechanism for optimally\r\n      funding public goods through seed grants, developed in 2018 by Vitalik\r\n      Buterin, ZoÃ« Hitzig and E. Glen Weyl.\r\n    </p>\r\n    <p>\r\n      It has the potential to significantly alleviate the Free-rider Problem of\r\n      underprovisioning vital public goods such as infrastructure, open-source\r\n      software, scientific research, journalism, and political campaigns.\r\n    </p>\r\n    <p>\r\n      This presentation is an attempt to explain its power using data from the\r\n      United States 2016 Democratic Primary for President.\r\n    </p>\r\n  </div>\r\n);\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\n\r\nconst Wrap = styled.div`\r\n  /* max-width: 500px; */\r\n`;\r\n\r\nconst Quote = styled.blockquote`\r\n  position: relative;\r\n  font-size: 1.8rem;\r\n  font-style: italic;\r\n  line-height: 2.6rem;\r\n  text-align: justify;\r\n  margin-right: 0;\r\n`;\r\n\r\nconst Cite = styled.cite`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font-size: 1.7rem;\r\n  text-align: right;\r\n  font-style: normal;\r\n`;\r\n\r\nexport default () => (\r\n  <Wrap>\r\n    <Quote>\r\n      Act only in accordance with that maxim through which you can at the same\r\n      time will that it become a universal law.\r\n    </Quote>\r\n    <Cite>Immanuel Kant</Cite>\r\n  </Wrap>\r\n);\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\n\r\nconst ImgBlock = styled.div`\r\n  display: flex;\r\n  justify-content: center;\r\n`;\r\n\r\nexport default () => (\r\n  <React.Fragment>\r\n    {/* <h1>The Problem</h1> */}\r\n    <ImgBlock>\r\n      <img src=\"img/preferences-avg.png\" />\r\n      <img src=\"img/preferences-elite.png\" />\r\n    </ImgBlock>\r\n  </React.Fragment>\r\n);\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport Transition from \"react-transition-group/Transition\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport Button from \"./Button\";\r\nimport View0 from \"./View0\";\r\nimport View1 from \"./View1\";\r\nimport View2 from \"./View2\";\r\n\r\nconst Views = [View0, View1, View2];\r\n\r\nconst transitionStyles = {\r\n  entering: { opacity: 0 },\r\n  entered: { opacity: 1 }\r\n};\r\n\r\nconst duration = 1000;\r\n\r\nconst FullWrap = styled.div`\r\n  opacity: 0;\r\n  transition: opacity ${duration}ms ease-in-out;\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  z-index: 1;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-end;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst InnerWrap = styled.div`\r\n  height: 100%;\r\n`;\r\n\r\nconst WithBtnWrap = styled.div`\r\n  height: 100vh;\r\n  max-height: 22rem;\r\n  max-width: 40rem;\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  position: relative;\r\n`;\r\n\r\nconst ContentWrap = styled.div`\r\n  display: ${({ display }) => display};\r\n  width: 100%;\r\n  h1 {\r\n    text-align: center;\r\n    margin-bottom: 2rem;\r\n    margin-top: 0;\r\n  }\r\n  h2 {\r\n    margin-bottom: 30px;\r\n  }\r\n  p {\r\n    text-align: justify;\r\n    font-size: 1.2rem;\r\n  }\r\n  p:last-of-type {\r\n    margin-bottom: 2rem;\r\n  }\r\n`;\r\n\r\nlet Btn = styled(Button)`\r\n  align-self: flex-end;\r\n`;\r\n\r\nclass Modal extends React.Component {\r\n  state = {\r\n    show: false\r\n  };\r\n\r\n  render() {\r\n    const { in: inProp, currentView, continueHandler } = this.props;\r\n    const nextView = (currentView, num) => {\r\n      const CurrentView = Views[num];\r\n      return (\r\n        <Fade delay={300} left opposite when={currentView === num} collapse>\r\n          <ContentWrap display={currentView === num ? \"block\" : \"none\"}>\r\n            <CurrentView />\r\n          </ContentWrap>\r\n        </Fade>\r\n      );\r\n    };\r\n\r\n    return (\r\n      <Transition in={inProp} timeout={duration} unmountOnExit>\r\n        {state => (\r\n          <FullWrap\r\n            style={{\r\n              ...transitionStyles[state]\r\n            }}\r\n          >\r\n            <WithBtnWrap>\r\n              <InnerWrap>\r\n                <Fade\r\n                  duration={500}\r\n                  left\r\n                  opposite\r\n                  when={currentView === 0}\r\n                  collapse\r\n                >\r\n                  <ContentWrap display={currentView === 0 ? \"block\" : \"none\"}>\r\n                    <View0 />\r\n                  </ContentWrap>\r\n                </Fade>\r\n                {nextView(currentView, 1)}\r\n              </InnerWrap>\r\n              <Btn\r\n                onClick={continueHandler}\r\n                style={{ position: \"absolute\", bottom: 0, right: 0 }}\r\n              >\r\n                Continue\r\n              </Btn>\r\n            </WithBtnWrap>\r\n          </FullWrap>\r\n        )}\r\n      </Transition>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport Button from \"./Button\";\r\n\r\nconst Wrapper = styled.div`\r\n  height: ${({ height }) => height};\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-start;\r\n`;\r\n\r\nexport default function Buttons(props) {\r\n  return props.currentView > -1 ? (\r\n    <Wrapper id=\"donations-buttons\" height={props.footerHeight}>\r\n      <Button\r\n        small={window.innerHeight < 600}\r\n        id=\"donation_all\"\r\n        onClick={props.donationButtonHandler}\r\n        className=\"button active\"\r\n      >\r\n        All Donations\r\n      </Button>\r\n      <Button\r\n        small={window.innerHeight < 600}\r\n        id=\"donation_tiers\"\r\n        onClick={props.donationButtonHandler}\r\n        className=\"button\"\r\n      >\r\n        Donations By Tier\r\n      </Button>\r\n    </Wrapper>\r\n  ) : null;\r\n}\r\n","export default {\r\n  2: \"<p>In U.S. national party primaries, public financing is available to candidates who meet certain guidelines. During a specified time period, the candidates collect donations from their supporters. After the time period ends, each candidate is eligible to receive a portion of public funds based on each candidate's total receipts.</p><p>The problem with this system is that it inherently gives wealthy donors a distinct advantage by basing the payout from the public fund on the total sum of donations for each candidate. <p>In the U.S.A, this problem is imperfectly confronted by a $2,700 limit per candidate, per donor. While well-intentioned, this limit is arbitrary and pushes wealthy donors toward methods of exerting political influence that are subject to far less oversight (ex: Super PACs).</p>\",\r\n  3: \"<p>In the 2016 primary, Hillary Clinton received the largest <em>total</em> donations while Bernie Sanders received the most <em>individual</em> donations.</p><p>Each green dot in the chart represents approximately 3,700 donations and the legend on the left lists their respective donation ranges. The yellow dots represent the portion of public funds made available to each candidate. The public funds help each candidate proportional to their total receipts and don't change the competitive balance between candidates, giving wealthy donors a significant advantage.</p>\",\r\n  4: \"\"\r\n};\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport Button from \"./Button\";\r\nimport Buttons from \"./Buttons\";\r\nimport sideText from \"./sideText\";\r\n\r\nconst Container = styled.div`\r\n  position: absolute;\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: flex-end;\r\n  top: 0;\r\n  right: 0;\r\n  width: 35vw;\r\n  padding: 3.2rem 3vw 2rem;\r\n  text-align: justify;\r\n  opacity: ${({ opacity }) => opacity};\r\n  transition: opacity 500ms ease 1500ms;\r\n  p {\r\n    font-size: 1.2rem;\r\n  }\r\n  p:first-of-type {\r\n    margin-top: 0;\r\n  }\r\n  z-index: -1;\r\n`;\r\n\r\nconst MainTitle = styled.div`\r\n  width: 30vw;\r\n  z-index: 5;\r\n  position: fixed;\r\n  top: 0;\r\n  opacity: ${({ opacity }) => opacity};\r\n  transition: 500ms ease-in-out;\r\n  h1 {\r\n    margin: 0.7rem;\r\n    font-size: ${window.innerHeight < 350 ? \"1.5rem\" : \"2.3rem\"};\r\n    text-align: right;\r\n    color: #777;\r\n  }\r\n  background: #fff;\r\n`;\r\n\r\nexport default function SideBox({\r\n  continueHandler,\r\n  sideBoxShowing,\r\n  currentView,\r\n  donationButtonHandler\r\n}) {\r\n  // console.log(sideBoxShowing);\r\n  return (\r\n    <Container opacity={sideBoxShowing ? 1 : 0}>\r\n      <MainTitle className=\"header-main\" opacity={currentView < 2 ? 0 : 1}>\r\n        <h1>liberal radicalism</h1>\r\n      </MainTitle>\r\n\r\n      <div dangerouslySetInnerHTML={{ __html: sideText[currentView] }} />\r\n      <Buttons\r\n        donationButtonHandler={donationButtonHandler}\r\n        continueHandler={continueHandler}\r\n        currentView={currentView}\r\n      />\r\n      <Button onClick={continueHandler}>Continue</Button>\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\n\r\nconst Wrap = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport default function LandscapeMessage() {\r\n  return (\r\n    <Wrap>\r\n      <p>Please rotate your device ðŸ”„</p>\r\n    </Wrap>\r\n  );\r\n}\r\n","export function debounce(func, wait, immediate) {\r\n  var timeout;\r\n  return function() {\r\n    var context = this,\r\n      args = arguments;\r\n    var later = function() {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n    var callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n}\r\n\r\nexport function checkLandscape() {\r\n  return window.innerHeight < window.innerWidth;\r\n}\r\n","import React, { Component } from \"react\";\nimport Chart from \"./components/Chart\";\nimport Modal from \"./components/Modal\";\nimport SideBox from \"./components/SideBox\";\nimport LandscapeMessage from \"./components/LandscapeMessage\";\nimport styled from \"@emotion/styled\";\nimport chart from \"./d3/chart\";\nimport { debounce, checkLandscape } from \"./helpers/helpers\";\nimport { wait } from \"./d3/config\";\nimport chartData from \"./data/2016_primary_json\";\nimport { buildDataArray } from \"./dataBuilder\";\nimport \"./styles/bubble_chart.css\";\nimport Buttons from \"./components/Buttons\";\n\nconst initState = {\n  activeDonationBtn: \"donation_all\",\n  currentView: 0,\n  modalShowing: false,\n  animDelay: 0,\n  landscape: true,\n  chartLoaded: false,\n  sideBoxShowing: false\n};\n\nclass App extends Component {\n  state = { ...initState };\n\n  async componentDidMount() {\n    this.checkOrientation();\n\n    window.addEventListener(\"resize\", debounce(this.checkOrientation, 100));\n\n    await wait(1200);\n\n    this.setState({ modalShowing: true });\n\n    // const dataArray = buildDataArray();\n    // console.log(dataArray);\n    // console.log(JSON.stringify(dataArray));\n  }\n\n  checkOrientation = () => {\n    const landscape = checkLandscape();\n\n    this.setState({ landscape });\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { currentView, activeDonationBtn, animDelay, landscape } = this.state;\n\n    if (!landscape) return;\n    if (landscape && !prevState.landscape) {\n      window.location.reload();\n    }\n\n    if (!animDelay) {\n      chart.render(currentView, activeDonationBtn);\n    } else {\n      await wait(500);\n      chart.render(currentView, activeDonationBtn);\n    }\n  }\n\n  donationButtonHandler = e => {\n    this.setState({ activeDonationBtn: e.target.id });\n  };\n\n  continueHandler = e => {\n    const { currentView } = this.state;\n    const newView = currentView + 1;\n    this.setState({\n      currentView: newView\n    });\n\n    if (newView === 2) {\n      this.setState({\n        animDelay: 1500,\n        modalShowing: false,\n        activeDonationBtn: \"donation_tiers\",\n        sideBoxShowing: true\n      });\n    }\n    if (newView > 2) {\n      window.scrollTo(0, 0);\n    }\n  };\n\n  render() {\n    const { currentView, landscape, modalShowing, sideBoxShowing } = this.state;\n    const windowHeight = window.innerHeight;\n    const windowWidth = window.innerWidth;\n    // console.log(\n    //   \"windowWidth: \",\n    //   windowWidth,\n    //   \"currentView: \",\n    //   currentView,\n    //   \"modalShowing: \",\n    //   modalShowing\n    // );\n    return !landscape ? (\n      <LandscapeMessage />\n    ) : (\n      <React.Fragment>\n        <Chart chartData={chartData} currentView={currentView} />\n        <Modal\n          in={modalShowing}\n          currentView={currentView}\n          continueHandler={this.continueHandler}\n        />\n        <SideBox\n          continueHandler={this.continueHandler}\n          sideBoxShowing={sideBoxShowing}\n          currentView={currentView}\n          donationButtonHandler={this.donationButtonHandler}\n        />\n        <button\n          onClick={this.continueHandler}\n          style={{ position: \"absolute\", right: 0, bottom: 0 }}\n        >\n          continue\n        </button>\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","import { totals } from \"./data/2016_primary_data\";\r\nconst windowHeight = document.documentElement.clientHeight;\r\nconst windowWidth = document.documentElement.clientWidth;\r\n\r\nconst max = 10000000;\r\n\r\nconst tierReference = {\r\n  zeroTo50Amount: {\r\n    ratio: 50 / 2700\r\n  },\r\n  fiftyTo200Amount: {\r\n    ratio: 200 / 2700\r\n  },\r\n  twoHundredTo500Amount: {\r\n    ratio: 500 / 2700\r\n  },\r\n  fiveHundredTo1000Amount: {\r\n    ratio: 1000 / 2700\r\n  },\r\n  oneThouTo2000Amount: {\r\n    ratio: 2000 / 2700\r\n  },\r\n  twoThouToLimitAmount: {\r\n    ratio: 1\r\n  }\r\n};\r\n\r\nexport const buildDataArray = () => {\r\n  let count = 0;\r\n  const dataArray = [];\r\n\r\n  totals.forEach(candidate => {\r\n    for (let prop in candidate) {\r\n      if (\r\n        /amount/i.test(prop) &&\r\n        !/grand/i.test(prop) &&\r\n        candidate[prop] &&\r\n        !isNaN(candidate[prop])\r\n      ) {\r\n        const amount = max * tierReference[prop].ratio;\r\n        let num = Math.ceil(candidate[prop] / amount);\r\n        // console.log(candidate.name, prop, num, amount);\r\n\r\n        for (let i = 0; i < num; i++) {\r\n          let a = Math.random() * 2 * Math.PI;\r\n          let r = Math.sqrt(~~(Math.random() * windowHeight ** 2));\r\n\r\n          dataArray.push({\r\n            id: count,\r\n            name: candidate.name,\r\n            tier: prop,\r\n            text: tierReference[prop].text,\r\n            size: 2700 * tierReference[prop].ratio,\r\n            amount: Math.round(amount / 100000) * 100000,\r\n            initX: (windowWidth / 2) * Math.cos(a),\r\n            initY: windowHeight / 2 + r * Math.sin(a)\r\n          });\r\n          count++;\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  const cache = {};\r\n  dataArray.forEach(o => {\r\n    if (o.name === \"Hillary Clinton\" && !cache[o.tier]) {\r\n      cache[o.tier] = 0;\r\n    }\r\n    cache[o.tier]++;\r\n  });\r\n  console.log(cache);\r\n\r\n  // console.log(count);\r\n  return dataArray;\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { hot } from \"react-hot-loader\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nconst root = document.getElementById(\"root\");\n\n// const HotApp = hot(module)(App);\n\nReactDOM.render(<App />, root);\n\n// if (module.hot) {\n//   module.hot.accept(\"./App\", () => {\n//     const NextApp = require(\"./App\").default;\n//     ReactDOM.render(<NextApp />, root);\n//   });\n// }\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}