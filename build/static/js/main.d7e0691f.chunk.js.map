{"version":3,"sources":["d3/config.js","d3/createNodes.js","d3/simulation.js","d3/bubbleHandlers.js","d3/render.js","d3/chart.js","components/Chart.js","components/Button.js","components/View0.js","components/View1.js","components/Modal.js","components/View5.js","components/sideText.js","components/SideBox.js","components/LandscapeMessage.js","helpers/helpers.js","App.js","dataBuilder.js","serviceWorker.js","index.js"],"names":["donationColors","screenHeight","window","innerHeight","screenWidth","innerWidth","chartWidth","Math","min","chartHeight","legendWidth","max","topPad","bottomPad","chartCenter","x","y","candidates","Alice","Bill","Carl","xScale","scalePoint","padding","domain","Object","keys","range","tierLevels","Amounts","text","twoThouToLimitAmount","cluster","oneThouTo2000Amount","fiveHundredTo1000Amount","twoHundredTo500Amount","fiftyTo200Amount","zeroTo50Amount","Totals","tierScale","scaleLinear","forEach","k","i","forceStrength","getCharge","exponent","arguments","length","undefined","force","d","pow","radius","wait","delay","Promise","res","setTimeout","createNodes","rawData","centerX","centerY","key","name","radiusScale","scaleSqrt","chart","maxAmount","myNodes","map","a","random","PI","r","sqrt","id","size","tier","cos","sin","sort","b","frame","bubbles","attr","groupAllBubbles","alpha","decay","allForce","svg","selectAll","remove","velocityDecay","forceY","strength","restart","splitByDonation","_splitByDonation","apply","this","_callee","tierForce","_args","regenerator_default","wrap","_context","prev","next","forceX","showTierLabels","stop","tierLabels","data","enter","append","each","select","style","render","init","domNode","fillColor","scaleOrdinal","reverse","sim","forceSimulation","forceManyBody","on","initSimulation","simulations","objectSpread","initTierSimulations","candidateForce","initCandidateSimulations","nodes","allBubblesGroup","currentView","activeDonationBtn","animDelay","_this","bubblesE","rgb","darker","merge","transition","duration","classed","names","showCandidates","_loop","nodeGroup","filter","node","splitByCandidate","view2","stopSplitByCandidate","_loop2","moveCandidateTitles","view3","ChartContainer","styled","div","_templateObject","Chart","props","chartData","react_default","createElement","Component","button","Button_templateObject","_ref","small","_ref2","View0","Wrap","View1_templateObject","Quote","blockquote","_templateObject2","Cite","cite","_templateObject3","Views","0","1","5","transitionStyles","entering","opacity","entered","FullWrap","Modal_templateObject","InnerWrap","Modal_templateObject2","WithBtnWrap","Modal_templateObject3","ContentWrap","_templateObject4","display","Btn","Button","_templateObject5","Modal","state","show","_this$props","inProp","in","continueHandler","nextView","num","CurrentView","Fade_default","left","opposite","when","collapse","Transition_default","timeout","unmountOnExit","onClick","position","bottom","right","React","sideText","2","Fragment","3","href","target","4","6","src","alt","7","Container","SideBox_templateObject","TextWrap","SideBox_templateObject2","BtnWrapper","SideBox_templateObject3","MainTitle","SideBox_templateObject4","SideBox","_ref3","sideBoxShowing","publicFundHandler","donationButtonHandler","backHandler","fundsActive","fundItOn","continueOn","className","LandscapeMessage_templateObject","LandscapeMessage","LandscapeMessage_Wrap","debounce","func","immediate","context","args","callNow","clearTimeout","initState","document","documentElement","clientHeight","clientWidth","modalShowing","landscape","chartLoaded","App","checkOrientation","setState","e","newView","scrollTo","addEventListener","screenfull","prevProps","prevState","location","reload","_this$state2","windowWidth","console","log","Chart_Chart","components_Modal","Boolean","hostname","match","root","getElementById","ReactDOM","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.d7e0691f.chunk.js","sourcesContent":["import { scaleLinear, scalePoint } from \"d3-scale\";\r\nimport chart from \"./chart\";\r\nimport { max } from \"d3-array\";\r\n\r\nexport const donationColors = [\r\n  \"#D2F4B7\",\r\n  \"#C4E7A8\",\r\n  \"#B5D999\",\r\n  \"#98BF7B\",\r\n  \"#7BA45D\",\r\n  \"#507C30\"\r\n];\r\n\r\nexport const screenHeight = window.innerHeight;\r\nexport const screenWidth = window.innerWidth;\r\nexport const chartWidth = Math.min(screenWidth * 0.62, 1400);\r\nexport const chartHeight = screenHeight * 0.92;\r\nexport const legendWidth = Math.max(chartWidth * 0.18, 110);\r\nexport const topPad = chartHeight * 0.04;\r\nexport const bottomPad = chartHeight * 0.03;\r\n\r\n// Locations to move bubbles towards, depending\r\n// on which view mode is selected.\r\nexport const center = { x: screenWidth / 2, y: screenHeight / 2 };\r\nexport const chartCenter = {\r\n  x: (chartWidth - legendWidth) / 2 + legendWidth,\r\n  y: chartHeight / 2\r\n};\r\n\r\nexport const candidates = {\r\n  Alice: { x: chartCenter.x - (chartWidth - legendWidth) / 3 },\r\n  Bill: { x: chartCenter.x },\r\n  Carl: { x: chartCenter.x + (chartWidth - legendWidth) / 3 }\r\n};\r\n\r\nexport const xScale = scalePoint()\r\n  .padding(0.5)\r\n  .domain(Object.keys(candidates))\r\n  .range([0, chartWidth]);\r\n\r\nexport const tierLevels = {\r\n  Amounts: {\r\n    text: \"Donation Ranges\"\r\n  },\r\n  twoThouToLimitAmount: {\r\n    text: \"$2k - $2,700 (limit)\",\r\n    cluster: {}\r\n  },\r\n  oneThouTo2000Amount: {\r\n    text: \"$1k - $1999.99\",\r\n    cluster: {}\r\n  },\r\n  fiveHundredTo1000Amount: {\r\n    text: \"$500 - 999.99\",\r\n    cluster: {}\r\n  },\r\n  twoHundredTo500Amount: {\r\n    text: \"$200 - 499.99\",\r\n    cluster: {}\r\n  },\r\n  fiftyTo200Amount: {\r\n    text: \"$50 - 199.99\",\r\n    cluster: {}\r\n  },\r\n  zeroTo50Amount: {\r\n    text: \"$0 - 49.99\",\r\n    cluster: {}\r\n  },\r\n  Totals: {\r\n    text: \"TOTALS:\"\r\n  }\r\n};\r\n\r\nexport const tierScale = scaleLinear()\r\n  .domain([0, 7])\r\n  .range([topPad, chartHeight - bottomPad]);\r\n\r\nexport const tierLevelKeys = Object.keys(tierLevels);\r\ntierLevelKeys.forEach((k, i) => {\r\n  tierLevels[k].y = tierScale(i);\r\n});\r\n\r\nexport const forceStrength = 0.07;\r\n\r\nexport function getCharge(exponent = 1.8, force = forceStrength) {\r\n  return d => -Math.pow(d.radius, exponent) * force;\r\n}\r\n\r\nexport function maxAmount(data) {\r\n  return max(data, function(d) {\r\n    return +d.size;\r\n  });\r\n}\r\n\r\nexport function scaleMatrix(s) {\r\n  let centerX = chartWidth / 2;\r\n  let centerY = chartHeight / 2;\r\n\r\n  return `matrix(${s}, 0, 0, ${s}, ${centerX - s * centerX}, ${centerY -\r\n    s * centerY})`;\r\n}\r\n\r\nexport function wait(delay) {\r\n  return new Promise(res => {\r\n    setTimeout(() => {\r\n      res();\r\n    }, delay);\r\n  });\r\n}\r\n","import { scaleSqrt } from \"d3-scale\";\r\nimport chart from \"./chart\";\r\nimport {\r\n  tierLevels,\r\n  chartWidth,\r\n  chartHeight,\r\n  candidates,\r\n  xScale\r\n} from \"./config\";\r\n\r\nfunction createNodes(rawData) {\r\n  const centerX = chartWidth / 2;\r\n  const centerY = chartHeight / 2;\r\n\r\n  // attaches x & y value for each cluster\r\n  for (let key in tierLevels) {\r\n    if (tierLevels[key].cluster) {\r\n      for (let name in candidates) {\r\n        tierLevels[key].cluster[name] = [xScale(name), tierLevels[key].y];\r\n      }\r\n    }\r\n  }\r\n\r\n  const radiusScale = scaleSqrt()\r\n    .domain([0, chart.maxAmount])\r\n    .range([0, chartHeight * 0.018]);\r\n\r\n  const myNodes = rawData.map(function(d, i) {\r\n    let a = Math.random() * 2 * Math.PI;\r\n    let r = Math.sqrt(~~(Math.random() * chartHeight ** 2));\r\n    return {\r\n      id: d.id,\r\n      radius: radiusScale(+d.size),\r\n      size: +d.size,\r\n      name: d.name,\r\n      text: tierLevels[d.tier].text,\r\n      tier: d.tier,\r\n      x: centerX + r * Math.cos(a),\r\n      y: centerY + r * Math.sin(a)\r\n    };\r\n  });\r\n\r\n  // sort them to prevent occlusion of smaller nodes.\r\n  myNodes.sort(function(a, b) {\r\n    return b.radius - a.radius;\r\n  });\r\n\r\n  return myNodes;\r\n}\r\n\r\nexport default createNodes;\r\n","import { forceSimulation, forceX, forceY, forceManyBody } from \"d3-force\";\r\nimport chart from \"./chart\";\r\nimport {\r\n  forceStrength,\r\n  getCharge,\r\n  chartWidth,\r\n  chartHeight,\r\n  tierLevels,\r\n  candidates\r\n} from \"./config\";\r\n\r\n// generates force simulator based on x & y position\r\n\r\nexport function initSimulation() {\r\n  const sim = forceSimulation()\r\n    .force(\r\n      \"x\",\r\n      forceX()\r\n        .strength(forceStrength)\r\n        .x(chartWidth / 2)\r\n    )\r\n    .force(\"charge\", forceManyBody().strength(getCharge()))\r\n    .on(\"tick\", frame);\r\n\r\n  // @v4 Force starts up automatically,\r\n  //  which we don't want as there aren't any nodes yet.\r\n  sim.stop();\r\n  return sim;\r\n}\r\n\r\nexport function initTierSimulations() {\r\n  const simulations = { ...tierLevels };\r\n\r\n  // these are just the x values & text for the legend\r\n  delete simulations.Amounts;\r\n  delete simulations.Totals;\r\n\r\n  for (let key in simulations) {\r\n    const sim = forceSimulation()\r\n      .force(\r\n        \"x\",\r\n        forceX()\r\n          .strength(forceStrength)\r\n          .x(chartWidth / 2)\r\n      )\r\n      .force(\"charge\", forceManyBody().strength(getCharge()))\r\n      .on(\"tick\", frame);\r\n\r\n    // @v4 Force starts up automatically,\r\n    //  which we don't want as there aren't any nodes yet.\r\n    sim.stop();\r\n    simulations[key] = sim;\r\n  }\r\n  return simulations;\r\n}\r\n\r\nexport function initCandidateSimulations() {\r\n  const simulations = { ...candidates };\r\n\r\n  // uneeded prop\r\n  delete simulations.x;\r\n\r\n  for (let key in simulations) {\r\n    const sim = forceSimulation()\r\n      .force(\r\n        \"y\",\r\n        forceY()\r\n          .strength(forceStrength)\r\n          .y(chartHeight / 2)\r\n      )\r\n      .force(\"charge\", forceManyBody().strength(getCharge()))\r\n      .on(\"tick\", frame);\r\n\r\n    // @v4 Force starts up automatically,\r\n    //  which we don't want as there aren't any nodes yet.\r\n    sim.stop();\r\n    simulations[key] = sim;\r\n  }\r\n\r\n  return simulations;\r\n}\r\n\r\nfunction frame() {\r\n  chart.bubbles\r\n    .attr(\"cx\", function(d) {\r\n      return d.x;\r\n    })\r\n    .attr(\"cy\", function(d) {\r\n      return d.y;\r\n    });\r\n}\r\n","import { forceX, forceY } from \"d3-force\";\r\nimport chart from \"./chart\";\r\nimport { select } from \"d3-selection\";\r\nimport {\r\n  forceStrength,\r\n  tierLevels,\r\n  candidates,\r\n  xScale,\r\n  chartHeight,\r\n  legendWidth,\r\n  wait,\r\n  chartWidth\r\n} from \"./config\";\r\n\r\nexport function groupAllBubbles(alpha, decay) {\r\n  const { allForce } = chart;\r\n  const centerY = chartHeight / 2;\r\n\r\n  hideTierLabels();\r\n\r\n  // for (let key in tierForce) {\r\n  //   tierForce[key].velocityDecay(decay).force(\r\n  //     \"y\",\r\n  //     forceY()\r\n  //       .strength(forceStrength)\r\n  //       .y(centerY)\r\n  //   );\r\n  //   tierForce[key].alpha(alpha).restart();\r\n  // }\r\n\r\n  allForce.velocityDecay(decay).force(\r\n    \"y\",\r\n    forceY()\r\n      .strength(forceStrength)\r\n      .y(centerY)\r\n  );\r\n\r\n  allForce.alpha(alpha).restart();\r\n}\r\n\r\nexport async function splitByDonation(delay = 0) {\r\n  const { tierForce } = chart;\r\n  await wait(delay);\r\n\r\n  for (let key in tierForce) {\r\n    tierForce[key]\r\n      .velocityDecay(0.2)\r\n      .force(\r\n        \"y\",\r\n        forceY()\r\n          .strength(forceStrength)\r\n          .y(d => {\r\n            return tierLevels[d.tier].y;\r\n          })\r\n      )\r\n      .force(\r\n        \"x\",\r\n        forceX()\r\n          .strength(forceStrength)\r\n          .x(d => {\r\n            return xScale(d.name);\r\n          })\r\n      );\r\n\r\n    tierForce[key].alpha(1).restart();\r\n\r\n    showTierLabels();\r\n  }\r\n}\r\n\r\nexport function splitByCandidate() {\r\n  const { candidateForce } = chart;\r\n\r\n  xScale.range([0, chartWidth]);\r\n\r\n  for (let key in candidateForce) {\r\n    candidateForce[key].velocityDecay(0.2).force(\r\n      \"x\",\r\n      forceX()\r\n        .strength(0.07)\r\n        .x(d => {\r\n          return xScale(d.name);\r\n        })\r\n    );\r\n    candidateForce[key].alpha(1).restart();\r\n  }\r\n}\r\n\r\nexport function stopSplitByCandidate() {\r\n  const { candidateForce } = chart;\r\n  for (let key in candidateForce) {\r\n    candidateForce[key].stop();\r\n  }\r\n}\r\n\r\nexport function hideTierLabels() {\r\n  chart.svg.selectAll(\".tier-label\").remove();\r\n}\r\n\r\nexport function showTierLabels() {\r\n  let tierLabels = Object.keys(tierLevels);\r\n\r\n  const tierTitle = chart.svg.selectAll(\".tier-label\").data(tierLabels);\r\n\r\n  tierTitle\r\n    .enter()\r\n    .append(\"text\")\r\n    .attr(\"class\", \"tier-label\")\r\n    .attr(\"y\", key => tierLevels[key].y)\r\n    .attr(\"x\", legendWidth)\r\n    .attr(\"text-anchor\", \"end\")\r\n    .text(d => tierLevels[d].text)\r\n    .each(function(d) {\r\n      if (d === \"Amounts\") {\r\n        select(this)\r\n          .style(\"text-decoration\", \"underline\")\r\n          .style(\"font-weight\", \"bold\");\r\n      }\r\n    });\r\n}\r\n\r\nexport function moveCandidateTitles() {\r\n  let names = Object.keys(candidates);\r\n  const candidateTitles = chart.svg.selectAll(\".candidate\").data(names);\r\n\r\n  candidateTitles\r\n    .transition()\r\n    .duration(500)\r\n    .attr(\"x\", function(d) {\r\n      return xScale(d);\r\n    });\r\n}\r\n\r\nexport function showCandidates() {\r\n  let names = Object.keys(candidates);\r\n  const candidateTitles = chart.svg.selectAll(\".candidate\").data(names);\r\n\r\n  candidateTitles\r\n    .enter()\r\n    .append(\"text\")\r\n    .attr(\"class\", \"candidate\")\r\n    .attr(\"x\", function(d) {\r\n      return xScale(d);\r\n    })\r\n    .attr(\"y\", chartHeight * 0.04)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .text(function(d) {\r\n      return d;\r\n    });\r\n}\r\n\r\nexport function toggleDonationGroups(activeDonationBtn, delay) {\r\n  if (activeDonationBtn === \"donation_tiers\") {\r\n    splitByDonation(delay);\r\n  } else {\r\n    groupAllBubbles(1, 0.12);\r\n  }\r\n}\r\n","import { rgb } from \"d3-color\";\r\n// import { selection, select as d3Select } from 'd3-selection';\r\nimport \"d3-transition\";\r\nimport {\r\n  screenWidth,\r\n  screenHeight,\r\n  chartWidth,\r\n  chartHeight,\r\n  xScale,\r\n  legendWidth\r\n} from \"./config\";\r\nimport {\r\n  groupAllBubbles,\r\n  showCandidates,\r\n  splitByCandidate,\r\n  splitByDonation,\r\n  moveCandidateTitles,\r\n  stopSplitByCandidate\r\n} from \"./bubbleHandlers\";\r\nimport chart from \"./chart\";\r\n\r\nfunction render(currentView, activeDonationBtn, animDelay) {\r\n  this.svg.attr(\"width\", chartWidth).attr(\"height\", chartHeight);\r\n\r\n  this.bubbles = this.allBubblesGroup\r\n    .selectAll(\"circle\")\r\n    .data(this.nodes, function(d) {\r\n      return d.id;\r\n    });\r\n\r\n  const bubblesE = this.bubbles\r\n    .enter()\r\n    .append(\"circle\")\r\n    .attr(\"r\", 0)\r\n    .attr(\"fill\", function(d) {\r\n      return chart.fillColor(+d.size);\r\n    })\r\n    .attr(\"stroke\", function(d) {\r\n      return rgb(chart.fillColor(+d.size)).darker([3]);\r\n    })\r\n    .attr(\"stroke-width\", 0.5);\r\n\r\n  this.bubbles = this.bubbles.merge(bubblesE);\r\n\r\n  this.bubbles\r\n    .transition()\r\n    .duration(1200)\r\n    .attr(\"r\", function(d) {\r\n      return d.radius;\r\n    });\r\n\r\n  // views triggered by switch statement at the bottom\r\n  const view0 = () => {\r\n    this.allForce.nodes(this.nodes);\r\n    groupAllBubbles(1, 0.4);\r\n  };\r\n  const view1 = () => {};\r\n  const view2 = () => {\r\n    this.svg.classed(\"downscale\", true);\r\n    this.svg.classed(\"left-side\", true);\r\n    showCandidates();\r\n\r\n    for (let key in this.candidateForce) {\r\n      const nodeGroup = this.nodes.filter(node => {\r\n        return key === node.name;\r\n      });\r\n      this.candidateForce[key].nodes(nodeGroup);\r\n    }\r\n\r\n    splitByCandidate();\r\n  };\r\n\r\n  const view3 = () => {\r\n    stopSplitByCandidate();\r\n\r\n    for (let key in this.tierForce) {\r\n      const nodeGroup = this.nodes.filter(node => {\r\n        return key === node.tier;\r\n      });\r\n      this.tierForce[key].nodes(nodeGroup);\r\n    }\r\n    xScale.range([legendWidth * 1.5, chartWidth]);\r\n    splitByDonation();\r\n    moveCandidateTitles();\r\n  };\r\n\r\n  switch (currentView) {\r\n    case 0:\r\n      view0();\r\n      break;\r\n    case 1:\r\n      view1();\r\n      break;\r\n    case 2:\r\n      view2();\r\n      break;\r\n    case 3:\r\n      view3();\r\n      break;\r\n    default:\r\n  }\r\n}\r\n\r\nexport default render;\r\n","/*\r\n * Code adapted from:\r\n * http://vallandingham.me/gates_bubbles/\r\n *\r\n */\r\nimport { select } from \"d3-selection\";\r\nimport { scaleOrdinal } from \"d3-scale\";\r\nimport createNodes from \"./createNodes\";\r\nimport {\r\n  initSimulation,\r\n  initTierSimulations,\r\n  initCandidateSimulations\r\n} from \"./simulation\";\r\nimport { maxAmount, donationColors } from \"./config\";\r\nimport render from \"./render\";\r\n\r\nconst chart = {\r\n  init: function(domNode, rawData) {\r\n    this.maxAmount = maxAmount(rawData);\r\n\r\n    this.fillColor = scaleOrdinal()\r\n      .domain([2700, 2000, 1000, 500, 200, 50])\r\n      .range(donationColors.reverse());\r\n\r\n    this.allForce = initSimulation();\r\n    this.tierForce = initTierSimulations();\r\n    this.candidateForce = initCandidateSimulations();\r\n\r\n    this.svg = select(domNode).append(\"svg\");\r\n\r\n    this.nodes = createNodes(rawData);\r\n\r\n    this.allBubblesGroup = this.svg.append(\"g\");\r\n    // .attr(\"transform\", scaleMatrix(2));\r\n\r\n    this.bubbles = null;\r\n  },\r\n  render\r\n};\r\n\r\nexport default chart;\r\n","import React, { Component } from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport chart from \"../d3/chart\";\r\n\r\nconst ChartContainer = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  display: flex;\r\n  /* justify-content: center; */\r\n  align-items: center;\r\n  margin: 0 auto;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  z-index: -1;\r\n`;\r\n\r\nexport default class Chart extends Component {\r\n  componentDidMount() {\r\n    chart.init(\"#vis\", this.props.chartData);\r\n  }\r\n\r\n  shouldComponentUpdate() {\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    return <ChartContainer id=\"vis\" />;\r\n  }\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.button`\r\n  display: inline-block;\r\n  position: relative;\r\n  border: 1px solid #555;\r\n  z-index: 5;\r\n  font-size: ${({ small }) => (small ? \"1rem\" : \"1.3rem\")};\r\n  height: ${({ small }) => (small ? \"2rem\" : \"3rem\")};\r\n  background: #fff;\r\n  font-family: inherit;\r\n  border-radius: 3px;\r\n  padding: 0 0.5rem 0;\r\n  margin-left: 10px;\r\n  cursor: pointer;\r\n  &.active {\r\n    color: #fff;\r\n    background: var(--text-color);\r\n  }\r\n`;\r\n","import React from \"react\";\r\n\r\nexport default () => (\r\n  <div>\r\n    <h1>liberal radicalism</h1>\r\n    <p>\r\n      Liberal Radicalism (a.k.a. Quadratic Finance) is a mechanism for optimally\r\n      funding public goods through seed grants, developed in 2018 by Vitalik\r\n      Buterin, ZoÃ« Hitzig and E. Glen Weyl.\r\n    </p>\r\n    <p>\r\n      It has the potential to significantly alleviate the Free-rider Problem of\r\n      underprovisioning vital public goods such as infrastructure, open-source\r\n      software, scientific research, journalism, and political campaigns.\r\n    </p>\r\n    <p>\r\n      This presentation is an attempt to explain its power using a hypothetical\r\n      election using data from the United States 2016 Democratic Primary for\r\n      President.\r\n    </p>\r\n  </div>\r\n);\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\n\r\nconst Wrap = styled.div`\r\n  /* max-width: 500px; */\r\n`;\r\n\r\nconst Quote = styled.blockquote`\r\n  position: relative;\r\n  font-size: 1.8rem;\r\n  font-style: italic;\r\n  line-height: 2.6rem;\r\n  text-align: justify;\r\n  margin-right: 0;\r\n`;\r\n\r\nconst Cite = styled.cite`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font-size: 1.7rem;\r\n  text-align: right;\r\n  font-style: normal;\r\n`;\r\n\r\nexport default () => (\r\n  <Wrap>\r\n    <Quote>\r\n      Act only in accordance with that maxim through which you can at the same\r\n      time will that it become a universal law.\r\n    </Quote>\r\n    <Cite>Immanuel Kant</Cite>\r\n  </Wrap>\r\n);\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport Transition from \"react-transition-group/Transition\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport Button from \"./Button\";\r\nimport View0 from \"./View0\";\r\nimport View1 from \"./View1\";\r\nimport View5 from \"./View5\";\r\n\r\nconst Views = { 0: View0, 1: View1, 5: View5 };\r\n\r\nconst transitionStyles = {\r\n  entering: { opacity: 0 },\r\n  entered: { opacity: 1 }\r\n};\r\n\r\nconst duration = 1000;\r\n\r\nconst FullWrap = styled.div`\r\n  opacity: 0;\r\n  transition: opacity ${duration}ms ease-in-out;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  /* width: 100vw;\r\n  height: 100vh; */\r\n  z-index: 1;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-end;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst InnerWrap = styled.div`\r\n  height: 100%;\r\n`;\r\n\r\nconst WithBtnWrap = styled.div`\r\n  height: 100vh;\r\n  max-height: 22rem;\r\n  max-width: 40rem;\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  position: relative;\r\n`;\r\n\r\nconst ContentWrap = styled.div`\r\n  display: ${({ display }) => display};\r\n  width: 100%;\r\n  h1 {\r\n    text-align: center;\r\n    margin-bottom: 2rem;\r\n    margin-top: 0;\r\n  }\r\n  h2 {\r\n    margin-bottom: 30px;\r\n  }\r\n  p {\r\n    text-align: justify;\r\n    font-size: 1.2rem;\r\n  }\r\n  p:last-of-type {\r\n    margin-bottom: 2rem;\r\n  }\r\n`;\r\n\r\nlet Btn = styled(Button)`\r\n  align-self: flex-end;\r\n`;\r\n\r\nclass Modal extends React.Component {\r\n  state = {\r\n    show: false\r\n  };\r\n\r\n  render() {\r\n    const { in: inProp, currentView, continueHandler } = this.props;\r\n    const nextView = (currentView, num) => {\r\n      const CurrentView = Views[num];\r\n      return (\r\n        <Fade delay={300} left opposite when={currentView === num} collapse>\r\n          <ContentWrap display={currentView === num ? \"block\" : \"none\"}>\r\n            <CurrentView />\r\n          </ContentWrap>\r\n        </Fade>\r\n      );\r\n    };\r\n\r\n    return (\r\n      <Transition in={inProp} timeout={duration} unmountOnExit>\r\n        {state => (\r\n          <FullWrap\r\n            style={{\r\n              ...transitionStyles[state]\r\n            }}\r\n          >\r\n            <WithBtnWrap>\r\n              <InnerWrap>\r\n                <Fade\r\n                  duration={500}\r\n                  left\r\n                  opposite\r\n                  when={currentView === 0}\r\n                  collapse\r\n                >\r\n                  <ContentWrap display={currentView === 0 ? \"block\" : \"none\"}>\r\n                    <View0 />\r\n                  </ContentWrap>\r\n                </Fade>\r\n                {nextView(currentView, 1)}\r\n                {nextView(currentView, 5)}\r\n              </InnerWrap>\r\n              <Btn\r\n                onClick={continueHandler}\r\n                style={{ position: \"absolute\", bottom: 0, right: 0 }}\r\n              >\r\n                Continue\r\n              </Btn>\r\n            </WithBtnWrap>\r\n          </FullWrap>\r\n        )}\r\n      </Transition>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\n\r\nexport default function View5() {\r\n  return (\r\n    <div>\r\n      <p>\r\n        Liberal radicalism could alleviate this problem and reenergize\r\n        democracy.\r\n      </p>{\" \"}\r\n      <p>[LR formula]</p>{\" \"}\r\n      <p>[square of the sum of the square roots of all donations]</p>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default {\r\n  2: (\r\n    <React.Fragment>\r\n      <p>\r\n        Imagine an election between Alice, Bill and Carl in a jurisdiction with\r\n        a typical public financing scheme: all donations collected during a\r\n        predetermined campaign period are matched dollar-for-dollar up to a\r\n        specified threshold.\r\n      </p>\r\n      <p>\r\n        In our election, there is $50 million in public funds up for grabs.\r\n        We'll assume donations are matched up to $2,700 (This is the current\r\n        limit per donor in U.S. national elections, however donations are only\r\n        matched up to $250. For the purposes of this demonstration, a higher cap\r\n        is more useful).\r\n      </p>\r\n    </React.Fragment>\r\n  ),\r\n  3: (\r\n    <React.Fragment>\r\n      <p>\r\n        There are multiple problems with dollar-for-dollar matching schemes like\r\n        this:\r\n      </p>\r\n      <ul>\r\n        <li>\r\n          Wealthy donors are able to exert far more influence, especially if the\r\n          limit is set at a high amount (ex: Bill received most of his funds\r\n          from donors giving between $2-2.7k).\r\n        </li>\r\n        <li>\r\n          A lower matching limit incentivizes wealthy donors to exert influence\r\n          through opague & corrupt channels (lobbying,\r\n          <a\r\n            href=\"https://www.opensecrets.org/pacs/superpacs.php\"\r\n            target=\"_blank\"\r\n          >\r\n            \"Super PACs\"\r\n          </a>\r\n          , Mar-a-Lago memberships, etc).\r\n        </li>\r\n        <li>\r\n          Donation limits are fairly arbitrary and at the mercy of the officials\r\n          currently in power.\r\n        </li>\r\n        <li>\r\n          The system can cease being useful over time if not supported and\r\n          administered well (ex: Most major U.S. presidential candidates haven't\r\n          accepted public funding since 2008 because associated limits on\r\n          spending haven't been increased with election costs).\r\n        </li>\r\n      </ul>\r\n    </React.Fragment>\r\n  ),\r\n  4: (\r\n    <React.Fragment>\r\n      <p>Back to our election...</p>\r\n      <p>\r\n        Each green dot in the chart represents 1,000 donations in dollar ranges\r\n        specified by the legend on the left and each candidate's total is listed\r\n        at the bottom.\r\n      </p>\r\n      <p>\r\n        Click \"Fund It!\" below to see how much each candidate would get from the\r\n        $50 million pot.\r\n      </p>\r\n    </React.Fragment>\r\n  ),\r\n  5: (\r\n    <React.Fragment>\r\n      <p>\r\n        As the totals show, each candidate's ratio stayed constant. The public\r\n        funds give each candidate more to work with, but they don't change the\r\n        competitive balance.\r\n      </p>\r\n      <p>\r\n        Before and after the public funds, Bill would have the same financial\r\n        advantage, and Alice's supporters would likely not appreciate this\r\n        considering his supporters tend to be more financially comfortable.\r\n      </p>\r\n    </React.Fragment>\r\n  ),\r\n\r\n  6: (\r\n    <React.Fragment>\r\n      <h3>The Liberal Radicalism formula:</h3>\r\n      <figure>\r\n        <img src=\"/img/formula.png\" alt=\"Liberal Radicalism Formula\" />\r\n        <figcaption>\r\n          (square of the sum of the square roots of all donations)\r\n        </figcaption>\r\n      </figure>\r\n      <p>\r\n        The squaring is why its often referred to as Quadratic Finance. Rather\r\n        than disecting the math, let's witness its magic when applied to the\r\n        public fund.\r\n      </p>\r\n    </React.Fragment>\r\n  ),\r\n  7: (\r\n    <p>\r\n      As the donation groups show, the Liberal Radical mechanism tips the\r\n      competitive balance in favor of candidates who receive more individual\r\n      donations. In this scenario, Alice would end up with more total funds than\r\n      Bill.\r\n    </p>\r\n  )\r\n};\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport Button from \"./Button\";\r\nimport sideText from \"./sideText\";\r\n\r\nconst Container = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 35vw;\r\n  padding: 3.2rem 3vw 2rem;\r\n  text-align: justify;\r\n  opacity: ${({ opacity }) => opacity};\r\n  transition: opacity 500ms ease 1500ms;\r\n  p {\r\n    font-size: 1.2rem;\r\n  }\r\n  p:first-of-type {\r\n    margin-top: 0;\r\n  }\r\n  z-index: -1;\r\n  h3 {\r\n    text-align: center;\r\n  }\r\n  figure {\r\n    text-align: center;\r\n    margin-bottom: 1rem;\r\n  }\r\n  button:first-of-type {\r\n    margin-left: 0;\r\n  }\r\n  img {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n`;\r\n\r\nconst TextWrap = styled.div`\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst BtnWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst MainTitle = styled.div`\r\n  width: 30vw;\r\n  z-index: 5;\r\n  position: fixed;\r\n  top: 0;\r\n  opacity: ${({ opacity }) => opacity};\r\n  transition: 500ms ease-in-out;\r\n  h1 {\r\n    margin: 0.7rem;\r\n    font-size: ${window.innerHeight < 350 ? \"1.5rem\" : \"2rem\"};\r\n    text-align: right;\r\n    color: #777;\r\n  }\r\n  background: #fff;\r\n`;\r\n\r\nexport default function SideBox({\r\n  continueHandler,\r\n  sideBoxShowing,\r\n  currentView,\r\n  donationButtonHandler,\r\n  activeDonationBtn,\r\n  backHandler,\r\n  publicFundHandler,\r\n  fundsActive\r\n}) {\r\n  const fundItOn = (!fundsActive && currentView === 4) || currentView === 6;\r\n  const continueOn = (currentView !== 4 && currentView !== 6) || fundsActive;\r\n  return (\r\n    <Container opacity={sideBoxShowing ? 1 : 0}>\r\n      <MainTitle className=\"header-main\" opacity={currentView < 2 ? 0 : 1}>\r\n        <h1>liberal radicalism</h1>\r\n      </MainTitle>\r\n      <TextWrap>{sideText[currentView]}</TextWrap>\r\n      <BtnWrapper>\r\n        <div>\r\n          {/* {currentView > 2 && (\r\n            <Button\r\n              small={window.innerHeight < 600}\r\n              id=\"donation_all\"\r\n              onClick={donationButtonHandler}\r\n              className={activeDonationBtn && \"active\"}\r\n            >\r\n              Toggle Donations\r\n            </Button>\r\n          )} */}\r\n        </div>\r\n        <div>\r\n          {/* {currentView > 2 && <Button onClick={backHandler}>Back</Button>} */}\r\n          {fundItOn && <Button onClick={publicFundHandler}>Fund It!</Button>}\r\n          {continueOn && <Button onClick={continueHandler}>Continue</Button>}\r\n        </div>\r\n      </BtnWrapper>\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\n\r\nconst Wrap = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport default function LandscapeMessage() {\r\n  return (\r\n    <Wrap>\r\n      <p>Please rotate your device ðŸ”„</p>\r\n    </Wrap>\r\n  );\r\n}\r\n","export function debounce(func, wait, immediate) {\r\n  var timeout;\r\n  return function() {\r\n    var context = this,\r\n      args = arguments;\r\n    var later = function() {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n    var callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n}\r\n\r\nexport function checkLandscape() {\r\n  return window.innerHeight < window.innerWidth;\r\n}\r\n","import React, { Component } from \"react\";\nimport * as screenfull from \"screenfull\";\nimport Chart from \"./components/Chart\";\nimport Modal from \"./components/Modal\";\nimport SideBox from \"./components/SideBox\";\nimport LandscapeMessage from \"./components/LandscapeMessage\";\nimport chart from \"./d3/chart\";\nimport { debounce, checkLandscape } from \"./helpers/helpers\";\nimport { wait } from \"./d3/config\";\nimport chartData from \"./data/2016_primary_json\";\nimport { buildDataArray } from \"./dataBuilder\";\nimport \"./styles/bubble_chart.css\";\n\nconst initState = {\n  activeDonationBtn: false,\n  currentView: 0,\n  modalShowing: false,\n  animDelay: 0,\n  landscape: true,\n  chartLoaded: false,\n  sideBoxShowing: false,\n  fundsActive: false\n};\n\nclass App extends Component {\n  state = { ...initState };\n\n  async componentDidMount() {\n    this.checkOrientation();\n\n    window.addEventListener(\"resize\", debounce(this.checkOrientation, 100));\n\n    if (screenfull.enabled) {\n      screenfull.request();\n    }\n\n    await wait(1200);\n\n    this.setState({ modalShowing: true });\n\n    // const dataArray = buildDataArray();\n    // console.log(dataArray);\n    // console.log(JSON.stringify(dataArray));\n  }\n\n  checkOrientation = () => {\n    const landscape = checkLandscape();\n\n    this.setState({ landscape });\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    const { currentView, activeDonationBtn, animDelay, landscape } = this.state;\n\n    if (!landscape) return;\n    if (landscape && !prevState.landscape) {\n      window.location.reload();\n    }\n\n    if (!animDelay) {\n      chart.render(currentView, activeDonationBtn);\n    } else {\n      await wait(500);\n      chart.render(currentView, activeDonationBtn);\n    }\n  }\n\n  donationButtonHandler = e => {\n    this.setState({ activeDonationBtn: !this.state.activeDonationBtn });\n  };\n\n  continueHandler = e => {\n    const { currentView } = this.state;\n    const newView = currentView + 1;\n    this.setState({\n      currentView: newView\n    });\n\n    if (newView === 2) {\n      this.setState({\n        animDelay: 1500,\n        modalShowing: false,\n        activeDonationBtn: false,\n        sideBoxShowing: true\n      });\n    }\n    if (newView > 2) {\n      window.scrollTo(0, 0);\n    }\n\n    if (newView !== 4 && newView < 6) {\n      this.setState({ fundsActive: false });\n    }\n  };\n\n  backHandler = () => {\n    if (this.state.currentView < 3) return;\n    this.setState({\n      currentView: this.state.currentView - 1\n    });\n  };\n\n  publicFundHandler = () => {\n    this.setState({ fundsActive: true });\n  };\n\n  render() {\n    const {\n      currentView,\n      landscape,\n      modalShowing,\n      sideBoxShowing,\n      activeDonationBtn,\n      fundsActive\n    } = this.state;\n    const windowHeight = window.innerHeight;\n    const windowWidth = window.innerWidth;\n    console.log(\n      \"windowWidth: \",\n      windowWidth,\n      \"currentView: \",\n      currentView,\n      \"modalShowing: \",\n      modalShowing\n    );\n    return !landscape ? (\n      <LandscapeMessage />\n    ) : (\n      <React.Fragment>\n        <Chart chartData={chartData} currentView={currentView} />\n        <Modal\n          in={modalShowing}\n          currentView={currentView}\n          continueHandler={this.continueHandler}\n        />\n        <SideBox\n          continueHandler={this.continueHandler}\n          backHandler={this.backHandler}\n          sideBoxShowing={sideBoxShowing}\n          currentView={currentView}\n          donationButtonHandler={this.donationButtonHandler}\n          activeDonationBtn={activeDonationBtn}\n          publicFundHandler={this.publicFundHandler}\n          fundsActive={fundsActive}\n        />\n        {/* <button\n          onClick={this.continueHandler}\n          style={{ position: \"absolute\", right: 0, bottom: 0 }}\n        >\n          continue\n        </button> */}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","import { totals } from \"./data/2016_primary_data\";\r\nconst windowHeight = document.documentElement.clientHeight;\r\nconst windowWidth = document.documentElement.clientWidth;\r\n\r\nconst max = 10000000;\r\n\r\nconst tierReference = {\r\n  zeroTo50Amount: {\r\n    ratio: 50 / 2700\r\n  },\r\n  fiftyTo200Amount: {\r\n    ratio: 200 / 2700\r\n  },\r\n  twoHundredTo500Amount: {\r\n    ratio: 500 / 2700\r\n  },\r\n  fiveHundredTo1000Amount: {\r\n    ratio: 1000 / 2700\r\n  },\r\n  oneThouTo2000Amount: {\r\n    ratio: 2000 / 2700\r\n  },\r\n  twoThouToLimitAmount: {\r\n    ratio: 1\r\n  }\r\n};\r\n\r\nexport const buildDataArray = () => {\r\n  let count = 0;\r\n  const dataArray = [];\r\n\r\n  totals.forEach(candidate => {\r\n    for (let prop in candidate) {\r\n      if (\r\n        /amount/i.test(prop) &&\r\n        !/grand/i.test(prop) &&\r\n        candidate[prop] &&\r\n        !isNaN(candidate[prop])\r\n      ) {\r\n        const amount = max * tierReference[prop].ratio;\r\n        let num = Math.ceil(candidate[prop] / amount);\r\n        // console.log(candidate.name, prop, num, amount);\r\n\r\n        for (let i = 0; i < num; i++) {\r\n          let a = Math.random() * 2 * Math.PI;\r\n          let r = Math.sqrt(~~(Math.random() * windowHeight ** 2));\r\n\r\n          dataArray.push({\r\n            id: count,\r\n            name: candidate.name,\r\n            tier: prop,\r\n            text: tierReference[prop].text,\r\n            size: 2700 * tierReference[prop].ratio,\r\n            amount: Math.round(amount / 100000) * 100000,\r\n            initX: (windowWidth / 2) * Math.cos(a),\r\n            initY: windowHeight / 2 + r * Math.sin(a)\r\n          });\r\n          count++;\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  const cache = {};\r\n  dataArray.forEach(o => {\r\n    if (o.name === \"Hillary Clinton\" && !cache[o.tier]) {\r\n      cache[o.tier] = 0;\r\n    }\r\n    cache[o.tier]++;\r\n  });\r\n  console.log(cache);\r\n\r\n  // console.log(count);\r\n  return dataArray;\r\n};\r\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { hot } from \"react-hot-loader\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nconst root = document.getElementById(\"root\");\n\n// const HotApp = hot(module)(App);\n\nReactDOM.render(<App />, root);\n\n// if (module.hot) {\n//   module.hot.accept(\"./App\", () => {\n//     const NextApp = require(\"./App\").default;\n//     ReactDOM.render(<NextApp />, root);\n//   });\n// }\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}