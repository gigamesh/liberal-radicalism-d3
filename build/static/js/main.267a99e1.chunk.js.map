{"version":3,"sources":["data/fakePrimaryData.js","d3/config.js","d3/simulation.js","d3/nodeHandlers.js","d3/render.js","d3/chart.js","d3/createNodes.js","components/Chart.js","components/Button.js","components/View0.js","components/View1.js","components/Modal.js","components/View5.js","components/sideText.js","components/SideBox.js","components/LandscapeMessage.js","helpers/helpers.js","App.js","serviceWorker.js","index.js"],"names":["fakePrimaryData","Alice","_50Count","value","count","_200Count","_500Count","_1kCount","_2kCount","_5kCount","_50kCount","_500kCount","Bill","donationColors","screenHeight","window","innerHeight","screenWidth","innerWidth","chartWidth","Math","min","chartHeight","legendWidth","max","topPad","bottomPad","candidates","donationSum","normalMatchSum","lrMatch","tierLevels","Amounts","text","Totals","xScale","scalePoint","padding","domain","Object","keys","range","tierScale","scaleLinear","forEach","k","i","y","forceStrength","getCharge","exponent","arguments","length","undefined","force","d","pow","radius","wait","delay","Promise","res","setTimeout","frame","chart","bubbles","attr","x","groupAllBubbles","alpha","decay","allForce","centerY","svg","selectAll","remove","velocityDecay","forceY","strength","restart","splitByDonation","_splitByDonation","apply","this","_callee","tierForce","_loop2","key","regenerator_default","a","wrap","_context","prev","next","nodes","nodeGroup","filter","node","tier","forceX","name","showTierLabels","stop","splitByCandidate","candidateForce","_loop","stopSplitByCandidate","tierLabels","data","enter","append","transition","ease","easePolyOut","duration","each","select","style","toggleCheck","donationsGrouped","stopSplitByDonation","restartForces","reheatedNodes","updateAndMerge","allBubblesGroup","id","bubblesE","color","rgb","darker","merge","render","init","domNode","rawData","maxAmount","amount","radiusScale","scaleSqrt","fillColor","scaleOrdinal","sim","forceSimulation","forceManyBody","on","initSimulation","simulations","objectSpread","initTierSimulations","initCandidateSimulations","centerX","map","random","PI","r","sqrt","cos","sin","sort","b","createNodes","pubFundsActive","_ref","currentView","animDelay","initialRenderTransition","classed","names","showCandidates","concat","toLocaleString","showTotals","view2","_chart$nodes","pubNodes","tiers","matchedAmt","totals","push","addPubFundNodes","tween","start","end","total","interpolator","interpolateNumber","t","round","view4","exit","ChartContainer","styled","div","_templateObject","Chart","props","chartData","react_default","createElement","Component","button","Button_templateObject","small","_ref2","View0","Wrap","View1_templateObject","Quote","blockquote","_templateObject2","Cite","cite","_templateObject3","Views","0","1","5","transitionStyles","entering","opacity","entered","FullWrap","Modal_templateObject","InnerWrap","Modal_templateObject2","WithBtnWrap","Modal_templateObject3","ContentWrap","_templateObject4","display","Btn","Button","_templateObject5","Modal","state","show","_this$props","inProp","in","continueHandler","nextView","num","CurrentView","Fade_default","left","opposite","when","collapse","Transition_default","timeout","unmountOnExit","onClick","position","bottom","right","React","sideText","2","Fragment","3","4","href","target","src","alt","6","Container","SideBox_templateObject","TextWrap","SideBox_templateObject2","BtnWrapper","SideBox_templateObject3","MainTitle","SideBox_templateObject4","SideBox","_ref3","sideBoxShowing","donationToggler","publicFundHandler","backHandler","fundsActive","fundItOn","continueOn","className","LandscapeMessage_templateObject","LandscapeMessage","LandscapeMessage_Wrap","debounce","func","immediate","context","args","callNow","clearTimeout","initState","modalShowing","landscape","chartLoaded","App","checkOrientation","_this","setState","e","newView","scrollTo","addEventListener","prevProps","prevState","location","reload","config","_this$state2","console","log","Chart_Chart","components_Modal","Boolean","hostname","match","root","document","getElementById","ReactDOM","src_App","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.267a99e1.chunk.js","sourcesContent":["export default {\r\n  Alice: {\r\n    _50Count: { value: 50, count: 2353 },\r\n    _200Count: { value: 200, count: 838 },\r\n    _500Count: { value: 500, count: 305 },\r\n    _1kCount: { value: 1000, count: 110 },\r\n    _2kCount: { value: 2000, count: 38 },\r\n    _5kCount: { value: 5000, count: 3 },\r\n    _50kCount: { value: 50000, count: 1 },\r\n    _500kCount: { value: 500000, count: 0 }\r\n  },\r\n\r\n  Bill: {\r\n    _50Count: { value: 50, count: 132 },\r\n    _200Count: { value: 200, count: 88 },\r\n    _500Count: { value: 500, count: 80 },\r\n    _1kCount: { value: 1000, count: 75 },\r\n    _2kCount: { value: 2000, count: 53 },\r\n    _5kCount: { value: 5000, count: 12 },\r\n    _50kCount: { value: 50000, count: 5 },\r\n    _500kCount: { value: 500000, count: 1 }\r\n  }\r\n};\r\n","import { scaleLinear, scalePoint } from \"d3-scale\";\r\nimport { max } from \"d3-array\";\r\n\r\nexport const donationColors = [\r\n  \"#B3D691\",\r\n  \"#85C973\",\r\n  \"#56BA5D\",\r\n  \"#39AA61\",\r\n  \"#1D9A6C\",\r\n  \"#188977\",\r\n  \"#137177\",\r\n  \"#0E4D64\",\r\n  \"#0A2F51\"\r\n];\r\n\r\nexport const screenHeight = window.innerHeight;\r\nexport const screenWidth = window.innerWidth;\r\nexport const chartWidth = Math.min(screenWidth * 0.62, 1400);\r\nexport const chartHeight = screenHeight * 0.92;\r\nexport const legendWidth = Math.max(chartWidth * 0.25, 95);\r\nexport const topPad = chartHeight * 0.04;\r\nexport const bottomPad = chartHeight * 0.02;\r\n\r\n// Locations to move bubbles towards, depending\r\n// on which view mode is selected.\r\nexport const center = { x: screenWidth / 2, y: screenHeight / 2 };\r\nexport const chartCenter = {\r\n  x: (chartWidth - legendWidth) / 2 + legendWidth,\r\n  y: chartHeight / 2\r\n};\r\n\r\nexport const combinedDollarSum = 447368608;\r\n\r\nexport const candidates = {\r\n  Alice: {\r\n    count: 3648,\r\n    donationSum: 688750,\r\n    normalMatchSum: 1065400,\r\n    lrMatch: 1107370.5\r\n  },\r\n  Bill: {\r\n    count: 446,\r\n    donationSum: 1055200,\r\n    normalMatchSum: 1124600,\r\n    lrMatch: 1124600\r\n  }\r\n};\r\n\r\nexport const tierLevels = {\r\n  Amounts: {\r\n    text: \"Donation Ranges\"\r\n  },\r\n  _500kCount: {\r\n    text: \"$500k\"\r\n  },\r\n  _50kCount: {\r\n    text: \"$50k - $500k\"\r\n  },\r\n  _5kCount: {\r\n    text: \"$2k - $5k\"\r\n  },\r\n  _2kCount: {\r\n    text: \"$1k - $2k\"\r\n  },\r\n  _1kCount: {\r\n    text: \"$500 - $1k\"\r\n  },\r\n  _500Count: {\r\n    text: \"$200 - $500\"\r\n  },\r\n  _200Count: {\r\n    text: \"$50 - $200\"\r\n  },\r\n  _50Count: {\r\n    text: \"$0 - $50\"\r\n  },\r\n  Totals: {\r\n    text: \"TOTALS:\"\r\n  }\r\n};\r\n\r\nexport const xScale = scalePoint()\r\n  .padding(0.3)\r\n  .domain(Object.keys(candidates))\r\n  .range([0, chartWidth]);\r\n\r\nexport const tierScale = scaleLinear()\r\n  .domain([0, 10])\r\n  .range([topPad, chartHeight - bottomPad]);\r\n\r\nexport const tierLevelKeys = Object.keys(tierLevels);\r\ntierLevelKeys.forEach((k, i) => {\r\n  tierLevels[k].y = tierScale(i);\r\n});\r\n\r\nexport const forceStrength = 0.07;\r\n\r\nexport function getCharge(exponent = 1.9, force = forceStrength) {\r\n  return d => -Math.pow(d.radius, exponent) * force;\r\n}\r\n\r\nexport function maxAmount(data) {\r\n  return max(data, function(d) {\r\n    return +d.amount;\r\n  });\r\n}\r\n\r\nexport function scaleMatrix(s) {\r\n  let centerX = chartWidth / 2;\r\n  let centerY = chartHeight / 2;\r\n\r\n  return `matrix(${s}, 0, 0, ${s}, ${centerX - s * centerX}, ${centerY -\r\n    s * centerY})`;\r\n}\r\n\r\nexport function wait(delay) {\r\n  return new Promise(res => {\r\n    setTimeout(() => {\r\n      res();\r\n    }, delay);\r\n  });\r\n}\r\n","import { forceSimulation, forceX, forceY, forceManyBody } from \"d3-force\";\r\nimport chart from \"./chart\";\r\nimport {\r\n  forceStrength,\r\n  getCharge,\r\n  chartWidth,\r\n  chartHeight,\r\n  tierLevels,\r\n  candidates\r\n} from \"./config\";\r\n\r\n// generates force simulator based on x & y position\r\n\r\nexport function initSimulation() {\r\n  const sim = forceSimulation()\r\n    .force(\r\n      \"x\",\r\n      forceX()\r\n        .strength(forceStrength)\r\n        .x(chartWidth / 2)\r\n    )\r\n    .force(\"charge\", forceManyBody().strength(getCharge()))\r\n    .on(\"tick\", frame);\r\n\r\n  // @v4 Force starts up automatically,\r\n  //  which we don't want as there aren't any nodes yet.\r\n  sim.stop();\r\n  return sim;\r\n}\r\n\r\nexport function initTierSimulations() {\r\n  const simulations = { ...tierLevels };\r\n\r\n  // these are just the x values & text for the legend\r\n  delete simulations.Amounts;\r\n  delete simulations.Totals;\r\n\r\n  for (let key in simulations) {\r\n    const sim = forceSimulation()\r\n      .force(\r\n        \"x\",\r\n        forceX()\r\n          .strength(forceStrength)\r\n          .x(chartWidth / 2)\r\n      )\r\n      .force(\"charge\", forceManyBody().strength(getCharge()))\r\n      .on(\"tick\", frame);\r\n\r\n    // @v4 Force starts up automatically,\r\n    //  which we don't want as there aren't any nodes yet.\r\n    sim.stop();\r\n    simulations[key] = sim;\r\n  }\r\n  return simulations;\r\n}\r\n\r\nexport function initCandidateSimulations() {\r\n  const simulations = { ...candidates };\r\n\r\n  for (let key in simulations) {\r\n    const sim = forceSimulation()\r\n      .force(\r\n        \"y\",\r\n        forceY()\r\n          .strength(forceStrength)\r\n          .y(chartHeight / 2)\r\n      )\r\n      .force(\"charge\", forceManyBody().strength(getCharge()))\r\n      .on(\"tick\", frame);\r\n\r\n    // @v4 Force starts up automatically,\r\n    //  which we don't want as there aren't any nodes yet.\r\n    sim.stop();\r\n    simulations[key] = sim;\r\n  }\r\n\r\n  return simulations;\r\n}\r\n\r\nfunction frame() {\r\n  chart.bubbles\r\n    .attr(\"cx\", function(d) {\r\n      return d.x;\r\n    })\r\n    .attr(\"cy\", function(d) {\r\n      return d.y;\r\n    });\r\n}\r\n","import { forceX, forceY } from \"d3-force\";\r\nimport { easePolyOut } from \"d3-ease\";\r\nimport { interpolateNumber } from \"d3-interpolate\";\r\nimport chart from \"./chart\";\r\nimport { select } from \"d3-selection\";\r\nimport {\r\n  forceStrength,\r\n  tierLevels,\r\n  candidates,\r\n  xScale,\r\n  chartHeight,\r\n  legendWidth,\r\n  wait,\r\n  chartWidth\r\n} from \"./config\";\r\n\r\nexport function groupAllBubbles(alpha, decay) {\r\n  const { allForce } = chart;\r\n  const centerY = chartHeight / 2;\r\n\r\n  hideTierLabels();\r\n\r\n  allForce.velocityDecay(decay).force(\r\n    \"y\",\r\n    forceY()\r\n      .strength(forceStrength)\r\n      .y(centerY)\r\n  );\r\n\r\n  allForce.alpha(alpha).restart();\r\n}\r\n\r\nexport async function splitByDonation() {\r\n  const { tierForce, nodes } = chart;\r\n\r\n  for (let key in tierForce) {\r\n    const nodeGroup = chart.nodes.filter(node => {\r\n      return key === node.tier;\r\n    });\r\n    tierForce[key].nodes(nodeGroup);\r\n\r\n    tierForce[key]\r\n      .velocityDecay(0.25)\r\n      .force(\r\n        \"y\",\r\n        forceY()\r\n          .strength(forceStrength)\r\n          .y(d => {\r\n            return tierLevels[d.tier].y;\r\n          })\r\n      )\r\n      .force(\r\n        \"x\",\r\n        forceX()\r\n          .strength(forceStrength)\r\n          .x(d => {\r\n            return xScale(d.name);\r\n          })\r\n      );\r\n\r\n    tierForce[key].alpha(1).restart();\r\n\r\n    showTierLabels();\r\n  }\r\n}\r\n\r\nexport function splitByCandidate(alpha = 1, decay = 0.25, strength = 0.07) {\r\n  const { candidateForce, nodes } = chart;\r\n\r\n  for (let key in candidateForce) {\r\n    const nodeGroup = chart.nodes.filter(node => {\r\n      return key === node.name;\r\n    });\r\n    candidateForce[key].nodes(nodeGroup);\r\n\r\n    candidateForce[key]\r\n      .velocityDecay(decay)\r\n      .force(\r\n        \"x\",\r\n        forceX()\r\n          .strength(strength)\r\n          .x(d => {\r\n            return xScale(d.name);\r\n          })\r\n      )\r\n      .force(\r\n        \"y\",\r\n        forceY()\r\n          .strength(strength)\r\n          .y(chartHeight * 0.5)\r\n      );\r\n    candidateForce[key].alpha(alpha).restart();\r\n  }\r\n  // hideTierLabels();\r\n}\r\n\r\nexport function clearPubFunds() {}\r\n\r\nexport function stopSplitByCandidate() {\r\n  const { candidateForce } = chart;\r\n  for (let key in candidateForce) {\r\n    candidateForce[key].stop();\r\n  }\r\n}\r\n\r\nexport function stopSplitByDonation() {\r\n  const { tierForce } = chart;\r\n  for (let key in tierForce) {\r\n    tierForce[key].stop();\r\n  }\r\n}\r\n\r\nexport function showTotals(key) {\r\n  const names = Object.keys(candidates);\r\n\r\n  const totalText = chart.svg.selectAll(\".money-totals\").data(names);\r\n  totalText\r\n    .enter()\r\n    .append(\"text\")\r\n    .attr(\"class\", \"money-totals\")\r\n    .attr(\"y\", tierLevels.Totals.y)\r\n    .attr(\"x\", name => xScale(name))\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .text(name => {\r\n      return `$${candidates[name][key].toLocaleString()}`;\r\n    });\r\n}\r\n\r\nexport function hideTierLabels() {\r\n  chart.svg.selectAll(\".tier-label\").remove();\r\n}\r\n\r\nexport function showTierLabels() {\r\n  let tierLabels = Object.keys(tierLevels);\r\n\r\n  const tierTitle = chart.svg.selectAll(\".tier-label\").data(tierLabels);\r\n\r\n  tierTitle\r\n    .enter()\r\n    .append(\"text\")\r\n    .attr(\"class\", \"tier-label\")\r\n    .attr(\"y\", key => tierLevels[key].y)\r\n    .attr(\"x\", 0)\r\n    .transition()\r\n    .ease(easePolyOut)\r\n    .duration(700)\r\n    .attr(\"x\", legendWidth)\r\n    .attr(\"text-anchor\", \"end\")\r\n    .text(d => tierLevels[d].text)\r\n    .each(function(d) {\r\n      if (d === \"Amounts\") {\r\n        select(this)\r\n          .style(\"text-decoration\", \"underline\")\r\n          .style(\"font-weight\", \"bold\");\r\n      }\r\n      if (d === \"Totals\") {\r\n        select(this).style(\"font-weight\", \"bold\");\r\n      }\r\n    });\r\n}\r\n\r\nexport function moveTitlesAndTotals() {\r\n  const candidateTitles = chart.svg.selectAll(\".candidate, .money-totals\");\r\n\r\n  candidateTitles\r\n    .transition()\r\n    .duration(700)\r\n    .ease(easePolyOut)\r\n    .attr(\"x\", function(d) {\r\n      return xScale(d);\r\n    });\r\n}\r\n\r\nexport function resetTotals() {\r\n  const totalText = chart.svg.selectAll(\".money-totals\");\r\n\r\n  totalText.text(name => {\r\n    return `$${candidates[name].donationSum.toLocaleString()}`;\r\n  });\r\n}\r\n\r\nexport function updateTotals(key) {\r\n  const totalText = chart.svg.selectAll(\".money-totals\");\r\n\r\n  totalText.each(function(d) {\r\n    select(this)\r\n      .transition()\r\n      .tween(\"text\", function() {\r\n        let total = select(this);\r\n        let start, end;\r\n        total.text(name => {\r\n          start = candidates[name].donationSum;\r\n          end = candidates[name][key];\r\n        });\r\n\r\n        const interpolator = interpolateNumber(start, end);\r\n        return function(t) {\r\n          total.text(\"$\" + Math.round(interpolator(t)).toLocaleString());\r\n        };\r\n      })\r\n      .duration(2000);\r\n  });\r\n}\r\n\r\nexport function showCandidates() {\r\n  let names = Object.keys(candidates);\r\n  const candidateTitles = chart.svg.selectAll(\".candidate\").data(names);\r\n\r\n  candidateTitles\r\n    .enter()\r\n    .append(\"text\")\r\n    .attr(\"class\", \"candidate\")\r\n    .attr(\"x\", function(d) {\r\n      return xScale(d);\r\n    })\r\n    .attr(\"y\", chartHeight * 0.04)\r\n    .attr(\"text-anchor\", \"middle\")\r\n    .text(function(d) {\r\n      return d;\r\n    });\r\n}\r\n\r\nexport function toggleDonationGroups(activeDonationBtn, delay) {\r\n  if (activeDonationBtn === \"donation_tiers\") {\r\n    splitByDonation(delay);\r\n  } else {\r\n    groupAllBubbles(1, 0.12);\r\n  }\r\n}\r\n","import { rgb } from \"d3-color\";\r\nimport \"d3-transition\";\r\nimport { chartWidth, xScale, legendWidth } from \"./config\";\r\nimport {\r\n  groupAllBubbles,\r\n  showCandidates,\r\n  splitByCandidate,\r\n  splitByDonation,\r\n  showTotals,\r\n  moveTitlesAndTotals,\r\n  stopSplitByCandidate,\r\n  stopSplitByDonation,\r\n  updateTotals,\r\n  clearPubFunds,\r\n  resetTotals\r\n} from \"./nodeHandlers\";\r\nimport chart from \"./chart\";\r\nimport { addPubFundNodes } from \"./createNodes\";\r\n\r\nfunction render({ currentView, donationsGrouped, animDelay }) {\r\n  this.donationsGrouped = donationsGrouped;\r\n\r\n  switch (currentView) {\r\n    case 0:\r\n      view0();\r\n      return;\r\n    case 1:\r\n      view1();\r\n      break;\r\n    case 2:\r\n      view2();\r\n      break;\r\n    case 3:\r\n      view3();\r\n      break;\r\n    case 4:\r\n      view4();\r\n      break;\r\n    case 5:\r\n      view5();\r\n      break;\r\n    default:\r\n  }\r\n}\r\n\r\nfunction view0() {\r\n  chart.allForce.nodes(chart.nodes);\r\n  groupAllBubbles(1, 0.4);\r\n  initialRenderTransition();\r\n}\r\n\r\nfunction view1() {}\r\n\r\nfunction view2() {\r\n  const { svg, candidateForce, nodes } = chart;\r\n\r\n  svg.classed(\"downscale\", true);\r\n  svg.classed(\"left-side\", true);\r\n\r\n  xScale.padding(0.4).range([0, chartWidth]);\r\n\r\n  showCandidates();\r\n\r\n  splitByCandidate();\r\n  showTotals(\"donationSum\");\r\n}\r\n\r\nfunction view3() {\r\n  stopSplitByCandidate();\r\n\r\n  xScale.range([legendWidth * 1.5, chartWidth]);\r\n\r\n  toggleCheck();\r\n\r\n  updateAndMerge();\r\n}\r\n\r\nfunction view4() {\r\n  toggleCheck();\r\n  if (chart.pubFundsActive) return;\r\n\r\n  //create public funding nodes\r\n  addPubFundNodes();\r\n\r\n  restartForces();\r\n\r\n  updateTotals(\"normalMatchSum\");\r\n\r\n  updateAndMerge();\r\n  chart.pubFundsActive = true;\r\n}\r\n\r\nfunction view5() {\r\n  toggleCheck();\r\n  if (!chart.pubFundsActive) return;\r\n\r\n  resetTotals();\r\n\r\n  //clear public fund nodes\r\n  chart.nodes = chart.nodes.filter(node => {\r\n    return node.text !== \"Public Fund\";\r\n  });\r\n\r\n  restartForces(chart.nodes);\r\n\r\n  chart.bubbles\r\n    .data(chart.nodes)\r\n    .exit()\r\n    .remove();\r\n\r\n  chart.pubFundsActive = false;\r\n}\r\n\r\nfunction toggleCheck() {\r\n  if (chart.donationsGrouped) {\r\n    stopSplitByDonation();\r\n    splitByCandidate(undefined, 0.23, 0.1);\r\n    chart.donationsGrouped = false;\r\n  } else {\r\n    stopSplitByCandidate();\r\n    splitByDonation();\r\n    moveTitlesAndTotals();\r\n    chart.donationsGrouped = true;\r\n  }\r\n}\r\n\r\nfunction restartForces() {\r\n  let reheatedNodes = chart.nodes;\r\n\r\n  if (chart.donationsGrouped) {\r\n    // restart force simulatoin for each group\r\n    for (let key in chart.tierForce) {\r\n      const nodeGroup = reheatedNodes.filter(node => {\r\n        return key === node.tier;\r\n      });\r\n\r\n      chart.tierForce[key].velocityDecay(0.28);\r\n      chart.tierForce[key].nodes(nodeGroup);\r\n      chart.tierForce[key].alpha(1).restart();\r\n    }\r\n  } else {\r\n    for (let name in chart.candidateForce) {\r\n      const nodeGroup = reheatedNodes.filter(node => {\r\n        return name === node.name;\r\n      });\r\n\r\n      chart.candidateForce[name].velocityDecay(0.28);\r\n      chart.candidateForce[name].nodes(nodeGroup);\r\n      chart.candidateForce[name].alpha(1).restart();\r\n    }\r\n  }\r\n  chart.nodes = reheatedNodes;\r\n}\r\n\r\nexport function updateAndMerge() {\r\n  // console.log(chart.nodes.splice(chart.nodes.length - 10));\r\n  const bubbles = chart.allBubblesGroup\r\n    .selectAll(\"circle\")\r\n    .data(chart.nodes, function(d) {\r\n      return d.id;\r\n    });\r\n\r\n  const bubblesE = bubbles\r\n    .enter()\r\n    .append(\"circle\")\r\n    .attr(\"r\", function(d) {\r\n      return d.radius;\r\n    })\r\n    .attr(\"fill\", d => d.color)\r\n    .attr(\"stroke\", function(d) {\r\n      return rgb(d.color).darker([3]);\r\n    })\r\n    .attr(\"stroke-width\", 0.25);\r\n\r\n  chart.bubbles = bubbles.merge(bubblesE);\r\n}\r\n\r\nfunction initialRenderTransition() {\r\n  const bubbles = chart.allBubblesGroup\r\n    .selectAll(\"circle\")\r\n    .data(chart.nodes, function(d) {\r\n      return d.id;\r\n    });\r\n\r\n  const bubblesE = bubbles\r\n    .enter()\r\n    .append(\"circle\")\r\n    .attr(\"r\", 0)\r\n    .attr(\"fill\", d => d.color)\r\n    .attr(\"stroke\", function(d) {\r\n      return rgb(d.color).darker([3]);\r\n    })\r\n    .attr(\"stroke-width\", 0.25);\r\n\r\n  chart.bubbles = bubbles.merge(bubblesE);\r\n\r\n  chart.bubbles\r\n    .transition()\r\n    .duration(1200)\r\n    .attr(\"r\", function(d) {\r\n      return d.radius;\r\n    });\r\n}\r\n\r\nexport default render;\r\n","/*\r\n * Code adapted from:\r\n * http://vallandingham.me/gates_bubbles/\r\n *\r\n */\r\nimport { select } from \"d3-selection\";\r\nimport { scaleOrdinal, scaleSqrt } from \"d3-scale\";\r\nimport { createNodes } from \"./createNodes\";\r\nimport {\r\n  initSimulation,\r\n  initTierSimulations,\r\n  initCandidateSimulations\r\n} from \"./simulation\";\r\nimport { maxAmount, donationColors, chartWidth, chartHeight } from \"./config\";\r\nimport render from \"./render\";\r\n\r\nconst chart = {\r\n  init: function(domNode, rawData) {\r\n    this.maxAmount = maxAmount(rawData);\r\n    this.radiusScale = scaleSqrt()\r\n      .domain([0, this.maxAmount])\r\n      .range([0, chartHeight * 0.05]);\r\n\r\n    this.fillColor = scaleOrdinal()\r\n      .domain([\r\n        \"_500kCount\",\r\n        \"_50kCount\",\r\n        \"_5kCount\",\r\n        \"_2kCount\",\r\n        \"_1kCount\",\r\n        \"_500Count\",\r\n        \"_200Count\",\r\n        \"_50Count\"\r\n      ])\r\n      .range(donationColors);\r\n\r\n    this.allForce = initSimulation();\r\n    this.tierForce = initTierSimulations();\r\n    this.candidateForce = initCandidateSimulations();\r\n\r\n    this.svg = select(domNode)\r\n      .append(\"svg\")\r\n      .attr(\"width\", chartWidth)\r\n      .attr(\"height\", chartHeight);\r\n\r\n    this.nodes = createNodes(rawData);\r\n\r\n    this.allBubblesGroup = this.svg.append(\"g\");\r\n    // .attr(\"transform\", scaleMatrix(2));\r\n\r\n    this.bubbles = null;\r\n    this.pubFundsActive = false;\r\n    this.donationsGrouped = true;\r\n  },\r\n  render\r\n};\r\n\r\nexport default chart;\r\n","import totals from \"../data/fakePrimaryData\";\r\nimport chart from \"./chart\";\r\nimport {\r\n  tierLevels,\r\n  chartWidth,\r\n  chartHeight,\r\n  candidates,\r\n  xScale\r\n} from \"./config\";\r\n\r\nexport function createNodes(rawData) {\r\n  const centerX = chartWidth / 2;\r\n  const centerY = chartHeight / 2;\r\n\r\n  const myNodes = rawData.map(function(d, i) {\r\n    let a = Math.random() * 2 * Math.PI;\r\n    let r = Math.sqrt(~~(Math.random() * chartHeight ** 2));\r\n\r\n    return {\r\n      id: i + \"-donation\",\r\n      radius: chart.radiusScale(+d.amount),\r\n      color: chart.fillColor(d.tier),\r\n      name: d.name,\r\n      text: tierLevels[d.tier].text,\r\n      tier: d.tier,\r\n      amount: d.amount,\r\n      x: centerX + r * Math.cos(a),\r\n      y: centerY + r * Math.sin(a)\r\n    };\r\n  });\r\n  // console.log(myNodes);\r\n\r\n  // Object.defineProperty(nodes, \"all\", {\r\n  //   enumerable: false,\r\n  //   value: function() {\r\n  //     let newNodes = [];\r\n\r\n  //     for (let key in nodes) {\r\n  //       newNodes.push(...nodes[key]);\r\n  //     }\r\n\r\n  //     // sort them to prevent occlusion of smaller nodes.\r\n  //     newNodes.sort(function(a, b) {\r\n  //       return b.radius - a.radius;\r\n  //     });\r\n\r\n  //     return newNodes;\r\n  //   }\r\n  // });\r\n\r\n  return myNodes.sort(function(a, b) {\r\n    return b.radius - a.radius;\r\n  });\r\n}\r\n\r\nexport function addPubFundNodes() {\r\n  let pubNodes = [];\r\n\r\n  let tiers = { ...tierLevels };\r\n  delete tiers.Totals;\r\n  delete tiers.Amounts;\r\n\r\n  for (let name in candidates) {\r\n    for (let tier in tiers) {\r\n      // matchedAmt is an assumed average donation size for each tier\r\n      // or 1000 beyond the lower tiers\r\n      let matchedAmt = tier === \"_50Count\" ? 50 : 200;\r\n\r\n      let amount = totals[name][tier].count * matchedAmt;\r\n\r\n      pubNodes.push({\r\n        id: tier + \"-pubfund\",\r\n        radius: chart.radiusScale(amount),\r\n        name,\r\n        color: \"#f4d733\",\r\n        amount: amount,\r\n        text: \"Public Fund\",\r\n        tier: tier,\r\n        x: chartWidth,\r\n        y: chartHeight\r\n      });\r\n    }\r\n  }\r\n\r\n  chart.nodes.push(...pubNodes);\r\n}\r\n","import React, { Component } from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport chart from \"../d3/chart\";\r\n\r\nconst ChartContainer = styled.div`\r\n  position: fixed;\r\n  left: 0;\r\n  top: 0;\r\n  display: flex;\r\n  /* justify-content: center; */\r\n  align-items: center;\r\n  margin: 0 auto;\r\n  height: 100vh;\r\n  width: 100vw;\r\n  z-index: -1;\r\n`;\r\n\r\nexport default class Chart extends Component {\r\n  componentDidMount() {\r\n    chart.init(\"#vis\", this.props.chartData);\r\n  }\r\n\r\n  shouldComponentUpdate() {\r\n    return false;\r\n  }\r\n\r\n  render() {\r\n    return <ChartContainer id=\"vis\" />;\r\n  }\r\n}\r\n","import styled from \"styled-components\";\r\n\r\nexport default styled.button`\r\n  display: inline-block;\r\n  position: relative;\r\n  border: 1px solid #555;\r\n  z-index: 5;\r\n  font-size: ${({ small }) => (small ? \"1rem\" : \"1.3rem\")};\r\n  height: ${({ small }) => (small ? \"2rem\" : \"3rem\")};\r\n  background: #fff;\r\n  font-family: inherit;\r\n  border-radius: 3px;\r\n  padding: 0 0.5rem 0;\r\n  margin-left: 10px;\r\n  cursor: pointer;\r\n  &:hover {\r\n    color: var(--green);\r\n    border: 1px solid var(--green);\r\n  }\r\n  &:active {\r\n    color: #fff;\r\n    background: var(--green);\r\n  }\r\n`;\r\n","import React from \"react\";\r\n\r\nexport default () => (\r\n  <div>\r\n    <h1>liberal radicalism</h1>\r\n    <p>\r\n      Liberal Radicalism (a.k.a. Quadratic Finance) is a mechanism for optimally\r\n      funding public goods, developed in 2018 by Vitalik Buterin, ZoÃ« Hitzig and\r\n      E. Glen Weyl.\r\n    </p>\r\n    <p>\r\n      It has the potential to reduce chronic conflicts between democracy and\r\n      capitalism by incentivizing distributed funding of vital public goods such\r\n      as infrastructure, open-source software, scientific research, journalism,\r\n      and political campaigns.\r\n    </p>\r\n  </div>\r\n);\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\n\r\nconst Wrap = styled.div`\r\n  /* max-width: 500px; */\r\n`;\r\n\r\nconst Quote = styled.blockquote`\r\n  position: relative;\r\n  font-size: 1.8rem;\r\n  font-style: italic;\r\n  line-height: 2.6rem;\r\n  text-align: justify;\r\n  margin-right: 0;\r\n`;\r\n\r\nconst Cite = styled.cite`\r\n  display: inline-block;\r\n  width: 100%;\r\n  font-size: 1.7rem;\r\n  text-align: right;\r\n  font-style: normal;\r\n`;\r\n\r\nexport default () => (\r\n  <Wrap>\r\n    <Quote>\r\n      Act only in accordance with that maxim through which you can at the same\r\n      time will that it become a universal law.\r\n    </Quote>\r\n    <Cite>Immanuel Kant</Cite>\r\n  </Wrap>\r\n);\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport Transition from \"react-transition-group/Transition\";\r\nimport Fade from \"react-reveal/Fade\";\r\nimport Button from \"./Button\";\r\nimport View0 from \"./View0\";\r\nimport View1 from \"./View1\";\r\nimport View5 from \"./View5\";\r\n\r\nconst Views = { 0: View0, 1: View1, 5: View5 };\r\n\r\nconst transitionStyles = {\r\n  entering: { opacity: 0 },\r\n  entered: { opacity: 1 }\r\n};\r\n\r\nconst duration = 1000;\r\n\r\nconst FullWrap = styled.div`\r\n  opacity: 0;\r\n  transition: opacity ${duration}ms ease-in-out;\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  bottom: 0;\r\n  right: 0;\r\n  /* width: 100vw;\r\n  height: 100vh; */\r\n  z-index: 1;\r\n  background: rgba(255, 255, 255, 0.9);\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: flex-end;\r\n  flex-direction: column;\r\n`;\r\n\r\nconst InnerWrap = styled.div`\r\n  height: 100%;\r\n`;\r\n\r\nconst WithBtnWrap = styled.div`\r\n  height: 100vh;\r\n  max-height: 22rem;\r\n  max-width: 40rem;\r\n  width: 80%;\r\n  margin: 0 auto;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  flex-direction: column;\r\n  position: relative;\r\n`;\r\n\r\nconst ContentWrap = styled.div`\r\n  display: ${({ display }) => display};\r\n  width: 100%;\r\n  h1 {\r\n    text-align: center;\r\n    margin-bottom: 2rem;\r\n    margin-top: 0;\r\n  }\r\n  h2 {\r\n    margin-bottom: 30px;\r\n  }\r\n  p {\r\n    text-align: justify;\r\n    font-size: 1.2rem;\r\n  }\r\n  p:last-of-type {\r\n    margin-bottom: 2rem;\r\n  }\r\n`;\r\n\r\nlet Btn = styled(Button)`\r\n  align-self: flex-end;\r\n`;\r\n\r\nclass Modal extends React.Component {\r\n  state = {\r\n    show: false\r\n  };\r\n\r\n  render() {\r\n    const { in: inProp, currentView, continueHandler } = this.props;\r\n    const nextView = (currentView, num) => {\r\n      const CurrentView = Views[num];\r\n      return (\r\n        <Fade delay={300} left opposite when={currentView === num} collapse>\r\n          <ContentWrap display={currentView === num ? \"block\" : \"none\"}>\r\n            <CurrentView />\r\n          </ContentWrap>\r\n        </Fade>\r\n      );\r\n    };\r\n\r\n    return (\r\n      <Transition in={inProp} timeout={duration} unmountOnExit>\r\n        {state => (\r\n          <FullWrap\r\n            style={{\r\n              ...transitionStyles[state]\r\n            }}\r\n          >\r\n            <WithBtnWrap>\r\n              <InnerWrap>\r\n                <Fade\r\n                  duration={500}\r\n                  left\r\n                  opposite\r\n                  when={currentView === 0}\r\n                  collapse\r\n                >\r\n                  <ContentWrap display={currentView === 0 ? \"block\" : \"none\"}>\r\n                    <View0 />\r\n                  </ContentWrap>\r\n                </Fade>\r\n                {nextView(currentView, 1)}\r\n                {nextView(currentView, 5)}\r\n              </InnerWrap>\r\n              <Btn\r\n                onClick={continueHandler}\r\n                style={{ position: \"absolute\", bottom: 0, right: 0 }}\r\n              >\r\n                Continue\r\n              </Btn>\r\n            </WithBtnWrap>\r\n          </FullWrap>\r\n        )}\r\n      </Transition>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Modal;\r\n","import React from \"react\";\r\n\r\nexport default function View5() {\r\n  return (\r\n    <div>\r\n      <p>\r\n        Liberal radicalism could alleviate this problem and reenergize\r\n        democracy.\r\n      </p>{\" \"}\r\n      <p>[LR formula]</p>{\" \"}\r\n      <p>[square of the sum of the square roots of all donations]</p>\r\n    </div>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nexport default {\r\n  2: (\r\n    <React.Fragment>\r\n      <p>\r\n        Imagine Alice and Bill are campaigning for political office in a\r\n        jurisdiction that uses a typical public campaign finance scheme: every\r\n        donation from supporters collected during a specified length of time is\r\n        matched dollar-for-dollar from a public fund, up to a limit per\r\n        donation. For the purposes of demonstration, we'll set the matching\r\n        limit at $200, apportioned from a fund of $450,000.\r\n      </p>\r\n    </React.Fragment>\r\n  ),\r\n  3: (\r\n    <React.Fragment>\r\n      <p>\r\n        In addition to the matching limit, there would typically also be a limit\r\n        to how much any single suppporter can give (ex: $2,700 in US national\r\n        elections). The intention behind this is to guard against plutocracy.\r\n        However, limits like this can have the opposite intended effect, which\r\n        will be explained more later.\r\n      </p>\r\n      <p>\r\n        In our election, there is no donation limit, and Bill is clearly more\r\n        popular among rich patrons, benefiting from one very generous donation\r\n        of $500,000. Alice received less in total funding, however she has far\r\n        more supporters.\r\n      </p>\r\n      <p>\r\n        <em>\r\n          (Note: the circle sizes represent total dollar amounts, but the\r\n          smaller donations are grouped in bundles for browser performance\r\n          reasons)\r\n        </em>\r\n      </p>\r\n      <p>\r\n        Click \"Fund It!\" below to see how much each candidate would get when the\r\n        first $200 of every donation is matched.\r\n      </p>\r\n    </React.Fragment>\r\n  ),\r\n  4: (\r\n    <React.Fragment>\r\n      <p>\r\n        As the totals show, Alice received a healthy boost, but Bill is still in\r\n        the lead.\r\n      </p>\r\n      <p>\r\n        While matching systems like this are effective at making fund raising\r\n        more democratic, they come with some problems:\r\n      </p>\r\n      <ul>\r\n        <li>\r\n          If a limit is set on how much someone can donate, wealthy donors are\r\n          incentivized exert influence through less transparent channels\r\n          (lobbying,{\" \"}\r\n          <a\r\n            href=\"https://www.opensecrets.org/pacs/superpacs.php\"\r\n            target=\"_blank\"\r\n          >\r\n            \"Super PACs\"\r\n          </a>\r\n          , Mar-a-Lago memberships, etc).\r\n        </li>\r\n        <li>\r\n          The matching threshold is fairly arbitrary and subject to being\r\n          changed by whoever is currently in power\r\n        </li>\r\n        <li>\r\n          The systems have a tendency to get bogged down with arcane rules and\r\n          are poorly managed, making them less useful over time (ex: Most major\r\n          U.S. presidential candidates haven't accepted public funding since\r\n          2008 because associated limits on spending haven't been increased with\r\n          campaign costs).\r\n        </li>\r\n      </ul>\r\n    </React.Fragment>\r\n  ),\r\n\r\n  5: (\r\n    <React.Fragment>\r\n      <p>\r\n        Now let's re-run the campaign using the Liberal Radicalism mechanism.\r\n      </p>\r\n      <p>\r\n        Rather than matching each donation up to the arbitrary $200 threshold,\r\n        the L.R. formula will be used to determine how the public funds will be\r\n        apportioned:\r\n      </p>\r\n      <figure>\r\n        <img src=\"/img/formula.png\" alt=\"Liberal Radicalism Formula\" />\r\n        <figcaption>\r\n          (square of the sum of the square roots of all donations)\r\n        </figcaption>\r\n      </figure>\r\n      <p>\r\n        It's more simple than it might seem. Rather than dissecting the math,\r\n        let's witness its magic...\r\n      </p>\r\n    </React.Fragment>\r\n  ),\r\n  6: (\r\n    <p>\r\n      As the donation groups show, the Liberal Radical mechanism tips the\r\n      competitive balance in favor of candidates who receive more individual\r\n      donations. In this scenario, Alice would end up with a healthy lead over\r\n      Bill, which is appropriate considering she is a far more popular\r\n      candidate.\r\n    </p>\r\n  )\r\n};\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\nimport Button from \"./Button\";\r\nimport sideText from \"./sideText\";\r\n\r\nconst Container = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  right: 0;\r\n  width: 35vw;\r\n  padding: 3.2rem 3vw 2rem;\r\n  text-align: justify;\r\n  opacity: ${({ opacity }) => opacity};\r\n  transition: opacity 500ms ease 1500ms;\r\n  p:first-of-type {\r\n    margin-top: 0;\r\n  }\r\n  z-index: -1;\r\n  h3 {\r\n    text-align: center;\r\n  }\r\n  figure {\r\n    text-align: center;\r\n    margin-bottom: 1rem;\r\n  }\r\n  button:first-of-type {\r\n    margin-left: 0;\r\n  }\r\n  img {\r\n    width: 100%;\r\n    height: auto;\r\n  }\r\n`;\r\n\r\nconst TextWrap = styled.div`\r\n  margin-bottom: 2rem;\r\n`;\r\n\r\nconst BtnWrapper = styled.div`\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-bottom: 1rem;\r\n`;\r\n\r\nconst MainTitle = styled.div`\r\n  width: 30vw;\r\n  z-index: 5;\r\n  position: fixed;\r\n  top: 0;\r\n  opacity: ${({ opacity }) => opacity};\r\n  transition: 500ms ease-in-out;\r\n  h1 {\r\n    margin: 0.7rem;\r\n    font-size: ${window.innerHeight < 350 ? \"1.5rem\" : \"2rem\"};\r\n    text-align: right;\r\n    color: #777;\r\n  }\r\n  background: #fff;\r\n`;\r\n\r\nexport default function SideBox({\r\n  continueHandler,\r\n  sideBoxShowing,\r\n  currentView,\r\n  donationToggler,\r\n  donationsGrouped,\r\n  backHandler,\r\n  publicFundHandler,\r\n  fundsActive\r\n}) {\r\n  const fundItOn =\r\n    (!fundsActive && currentView === 3) || (!fundsActive && currentView === 5);\r\n  const continueOn = (currentView !== 3 && currentView !== 5) || fundsActive;\r\n  return (\r\n    <Container opacity={sideBoxShowing ? 1 : 0}>\r\n      <MainTitle className=\"header-main\" opacity={currentView < 2 ? 0 : 1}>\r\n        <h1>liberal radicalism</h1>\r\n      </MainTitle>\r\n      <TextWrap>{sideText[currentView]}</TextWrap>\r\n      <BtnWrapper>\r\n        <div>\r\n          {currentView > 2 && (\r\n            <Button\r\n              small={window.innerHeight < 600}\r\n              id=\"donation_all\"\r\n              onClick={donationToggler}\r\n              className={donationsGrouped && \"active\"}\r\n            >\r\n              Toggle Donations\r\n            </Button>\r\n          )}\r\n        </div>\r\n        <div>\r\n          {/* {currentView > 2 && <Button onClick={backHandler}>Back</Button>} */}\r\n          {fundItOn && <Button onClick={publicFundHandler}>Fund It!</Button>}\r\n          {continueOn && <Button onClick={continueHandler}>Continue</Button>}\r\n        </div>\r\n      </BtnWrapper>\r\n    </Container>\r\n  );\r\n}\r\n","import React from \"react\";\r\nimport styled from \"@emotion/styled\";\r\n\r\nconst Wrap = styled.div`\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n`;\r\n\r\nexport default function LandscapeMessage() {\r\n  return (\r\n    <Wrap>\r\n      <p>Please rotate your device ð</p>\r\n    </Wrap>\r\n  );\r\n}\r\n","export function debounce(func, wait, immediate) {\r\n  var timeout;\r\n  return function() {\r\n    var context = this,\r\n      args = arguments;\r\n    var later = function() {\r\n      timeout = null;\r\n      if (!immediate) func.apply(context, args);\r\n    };\r\n    var callNow = immediate && !timeout;\r\n    clearTimeout(timeout);\r\n    timeout = setTimeout(later, wait);\r\n    if (callNow) func.apply(context, args);\r\n  };\r\n}\r\n\r\nexport function checkLandscape() {\r\n  return window.innerHeight < window.innerWidth;\r\n}\r\n","import React, { Component } from \"react\";\nimport Chart from \"./components/Chart\";\nimport Modal from \"./components/Modal\";\nimport SideBox from \"./components/SideBox\";\nimport LandscapeMessage from \"./components/LandscapeMessage\";\nimport chart from \"./d3/chart\";\nimport { debounce, checkLandscape } from \"./helpers/helpers\";\nimport { wait } from \"./d3/config\";\nimport chartData from \"./data/fakePrimaryJSON\";\n// import { buildDataArray } from \"./dataBuilder\";\nimport \"./styles/bubble_chart.css\";\n\nconst initState = {\n  donationsGrouped: true,\n  currentView: 0,\n  modalShowing: false,\n  animDelay: 0,\n  landscape: true,\n  chartLoaded: false,\n  sideBoxShowing: false,\n  fundsActive: false\n};\n\nclass App extends Component {\n  state = { ...initState };\n\n  async componentDidMount() {\n    this.checkOrientation();\n\n    window.addEventListener(\"resize\", debounce(this.checkOrientation, 100));\n\n    await wait(1200);\n\n    this.setState({ modalShowing: true });\n\n    // const dataArray = buildDataArray();\n    // console.log(JSON.stringify(dataArray));\n  }\n\n  checkOrientation = () => {\n    const landscape = checkLandscape();\n\n    this.setState({ landscape });\n  };\n\n  async componentDidUpdate(prevProps, prevState) {\n    const {\n      currentView,\n      donationsGrouped,\n      animDelay,\n      landscape,\n      fundsActive\n    } = this.state;\n    if (!landscape) return;\n    if (landscape && !prevState.landscape) {\n      window.location.reload();\n    }\n    const config = { currentView, donationsGrouped, fundsActive };\n    if (!animDelay) {\n      chart.render(config);\n    } else {\n      await wait(animDelay);\n      chart.render(config);\n    }\n  }\n\n  donationToggler = e => {\n    this.setState({ donationsGrouped: !this.state.donationsGrouped });\n  };\n\n  continueHandler = e => {\n    const { currentView } = this.state;\n    const newView = currentView + 1;\n    this.setState({\n      currentView: newView\n    });\n\n    if (newView === 2) {\n      this.setState({\n        animDelay: 0,\n        modalShowing: false,\n        donationsGrouped: false,\n        sideBoxShowing: true\n      });\n    }\n    if (newView > 2) {\n      window.scrollTo(0, 0);\n    }\n\n    // if (newView !== 4 && newView < 6) {\n    //   this.setState({ fundsActive: false });\n    // }\n  };\n\n  backHandler = () => {\n    if (this.state.currentView < 3) return;\n    this.setState({\n      currentView: this.state.currentView - 1\n    });\n  };\n\n  publicFundHandler = () => {\n    this.setState({\n      fundsActive: true,\n      currentView: this.state.currentView + 1\n    });\n  };\n\n  render() {\n    const {\n      currentView,\n      landscape,\n      modalShowing,\n      sideBoxShowing,\n      donationsGrouped,\n      fundsActive\n    } = this.state;\n\n    console.log(\"currentView: \", currentView);\n    return !landscape ? (\n      <LandscapeMessage />\n    ) : (\n      <React.Fragment>\n        <Chart chartData={chartData} currentView={currentView} />\n        <Modal\n          in={modalShowing}\n          currentView={currentView}\n          continueHandler={this.continueHandler}\n        />\n        <SideBox\n          continueHandler={this.continueHandler}\n          backHandler={this.backHandler}\n          sideBoxShowing={sideBoxShowing}\n          currentView={currentView}\n          donationToggler={this.donationToggler}\n          donationsGrouped={donationsGrouped}\n          publicFundHandler={this.publicFundHandler}\n          fundsActive={fundsActive}\n        />\n        {/* <button\n          onClick={this.continueHandler}\n          style={{ position: \"absolute\", right: 0, bottom: 0 }}\n        >\n          continue\n        </button> */}\n      </React.Fragment>\n    );\n  }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { hot } from \"react-hot-loader\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport * as serviceWorker from \"./serviceWorker\";\n\nconst root = document.getElementById(\"root\");\n\n// const HotApp = hot(module)(App);\n\nReactDOM.render(<App />, root);\n\n// if (module.hot) {\n//   module.hot.accept(\"./App\", () => {\n//     const NextApp = require(\"./App\").default;\n//     ReactDOM.render(<NextApp />, root);\n//   });\n// }\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}